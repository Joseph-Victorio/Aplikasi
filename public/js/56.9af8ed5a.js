(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[56],{"2cee":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("q-page",{staticClass:"q-pb-xl"},[e("q-header",[e("q-toolbar",[e("q-btn",{attrs:{to:{name:"Settings"},flat:"",round:"",dense:"",icon:"eva-arrow-back"}}),e("q-toolbar-title",[t._v("\n         Slider Banner\n       ")]),e("q-btn",{staticClass:"gt-xs",attrs:{color:"white","text-color":"primary",size:"13px",icon:"add_circle",label:"Tambah Slider","no-caps":""},on:{click:t.handleBtnUpload}})],1)],1),e("div",{staticClass:"q-pa-sm text-xs text-grey-8 bg-yellow-2"},[e("div",[t._v("Note")]),e("div",[t._v("Untuk hasil terbaik, Gunakan gambar dengan ukuran yang sama.")])]),e("input",{ref:"image",staticClass:"hidden",attrs:{type:"file"},on:{change:t.handleFileUpload}}),e("div",[e("q-list",{attrs:{separator:""}},[e("q-item",{staticClass:"item-header"},[e("q-item-section",{staticStyle:{"min-width":"110px"}},[t._v("Image")]),e("q-item-section",[t._v("Sort")]),e("q-item-section",{attrs:{side:""}},[t._v("Action")])],1),t._l(t.sliders.data,(function(a){return e("q-item",{key:a.id},[e("q-item-section",[e("q-img",{staticClass:"bg-white rounded-corners img-thumbnail img-avatar",attrs:{src:a.src,ratio:"1"}})],1),e("q-item-section",[e("div",{staticClass:"row q-gutter-sm items-center"},[e("q-btn",{staticClass:"bg-blue-grey-1",attrs:{icon:"remove",size:"sm",unelevated:"",round:""},on:{click:function(e){return t.decre(a)}}}),e("span",{staticClass:"text-md"},[t._v(t._s(a.weight))]),e("q-btn",{staticClass:"bg-blue-grey-1",attrs:{icon:"add",size:"sm",round:"",unelevated:""},on:{click:function(e){return t.incre(a)}}})],1)]),e("q-item-section",{attrs:{center:"",side:""}},[e("q-btn",{attrs:{size:"sm",round:"",icon:"delete",color:"red"},on:{click:function(e){return t.remove(a.id)}}})],1)],1)}))],2)],1),t.sliders.available?t._e():[e("div",{staticClass:"absolute-center"},[t._v("Tidak ada data")])],e("q-inner-loading",{attrs:{showing:!t.sliders.ready}},[e("q-spinner-facebook",{attrs:{size:"50px",color:"primary"}})],1),e("q-page-sticky",{staticClass:"lt-sm",attrs:{position:"bottom-right",offset:[18,18]}},[e("q-btn",{attrs:{fab:"",icon:"add",color:"primary",glossy:""},on:{click:t.handleBtnUpload}})],1)],2)},n=[],s=a("ded3"),o=a.n(s),r=a("758b"),l=a("2f62"),c={data:function(){return{timeout:null,uploadPercentage:0}},computed:o()({},Object(l["d"])({sliders:function(t){return t.slider.sliders},loading:function(t){return t.loading}})),mounted:function(){this.sliders.data.length||this.getSliders()},methods:o()(o()({},Object(l["b"])("slider",["removeSlider","getSliders","updateSliderWeight"])),{},{changeWeight:function(t,e){this.updateSliderWeight({value:t,id:e})},incre:function(t){this.changeWeight(t.weight+1,t.id)},decre:function(t){t.weight<=1||this.changeWeight(t.weight-1,t.id)},remove:function(t){var e=this;this.$q.dialog({title:"Konfirmasi Penghapusan Item",message:"Yakin akan menghapus data ini?",ok:{label:"Hapus",flat:!0,"no-caps":!0},cancel:{label:"Batal",flat:!0,"no-caps":!0}}).onOk((function(){e.removeSlider(t)})).onCancel((function(){console.log("Cancel")})).onDismiss((function(){}))},handleBtnUpload:function(){this.$refs.image.click()},handleFileUpload:function(){var t=this,e=this;e.$store.commit("slider/SET_DATA_STATUS",!1);var a=new FormData;a.append("image",this.$refs.image.files[0]),Object(r["a"])().post("sliders",a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){t.uploadPercentage=parseInt(Math.round(e.loaded/e.total*100))}}).then((function(t){e.getSliders()})).catch((function(t){e.$store.commit("slider/SET_DATA_STATUS",!0)}))}})},d=c,u=a("2877"),m=a("9989"),g=a("e359"),h=a("65c6"),p=a("9c40"),f=a("6ac5"),b=a("1c1c"),v=a("66e5"),q=a("4074"),k=a("068f"),S=a("74f7"),w=a("e669"),_=a("de5e"),y=a("eebe"),C=a.n(y),T=Object(u["a"])(d,i,n,!1,null,null,null);e["default"]=T.exports;C()(T,"components",{QPage:m["a"],QHeader:g["a"],QToolbar:h["a"],QBtn:p["a"],QToolbarTitle:f["a"],QList:b["a"],QItem:v["a"],QItemSection:q["a"],QImg:k["a"],QInnerLoading:S["a"],QSpinnerFacebook:w["a"],QPageSticky:_["a"]})}}]);