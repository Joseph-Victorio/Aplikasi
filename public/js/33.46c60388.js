(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[33],{bc2a:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("q-page",{staticClass:"bg-grey-2 q-pb-lg"},[e("q-header",[e("q-toolbar",[e("q-btn",{directives:[{name:"go-back",rawName:"v-go-back.single",modifiers:{single:!0}}],attrs:{flat:"",round:"",dense:"",icon:"eva-arrow-back"}}),e("q-toolbar-title",[t._v("\n       Konfigurasi Aplikasi\n      ")])],1),e("div",{staticClass:"bg-white box-shadow text-dark"},[e("q-tabs",{attrs:{"outside-arrows":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.tabs,(function(t){return e("q-tab",{key:t.value,attrs:{name:t.value,label:t.label,"no-caps":""}})})),1)],1)],1),e("q-tab-panels",{attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("q-tab-panel",{attrs:{name:"Tampilan"}},[e("tampilan")],1),e("q-tab-panel",{attrs:{name:"Ekspedisi"}},[e("shipping")],1),e("q-tab-panel",{attrs:{name:"Local"}},[e("LocalShipping")],1),e("q-tab-panel",{attrs:{name:"Notifikasi"}},[e("notification")],1),e("q-tab-panel",{attrs:{name:"Tripay"}},[e("tripay")],1),e("q-tab-panel",{attrs:{name:"Checkout"}},[e("checkout-config")],1),e("q-tab-panel",{attrs:{name:"Fee"}},[e("service-fee")],1),e("q-tab-panel",{attrs:{name:"System"}},[e("system-update")],1)],1),e("q-inner-loading",{attrs:{showing:t.loading}})],1)},s=[],n=(a("ac1f"),a("841c"),function(){var t=this,e=t._self._c;return e("div",[e("form",{on:{submit:function(e){return e.preventDefault(),t.updateData.apply(null,arguments)}}},[e("q-card",{attrs:{flat:""}},[e("q-card-section",[e("div",{staticClass:"flex items-center justify-between"},[e("div",{staticClass:"text-md text-weight-bold"},[t._v("Ekspedisi")]),e("q-toggle",{staticClass:"text-grey-8",attrs:{label:t.formdata.is_shipping_active?"Active":"Inactive","left-label":"",color:"green"},model:{value:t.formdata.is_shipping_active,callback:function(e){t.$set(t.formdata,"is_shipping_active",e)},expression:"formdata.is_shipping_active"}})],1),e("div",{staticClass:"text-caption text-grey-7"},[e("div",[t._v("Pengaturan ongkir otomatis by Rajaongkir")]),e("div",[t._v("Silahkan daftar di rajaongkir.com untuk mendapatkan apikey")])]),e("div",{staticClass:"q-gutter-y-sm q-py-md"},[e("q-select",{attrs:{label:"Raja Ongkir Tipe",filled:"",options:t.rajaongkirtypes},on:{input:t.selectCourierType},model:{value:t.formdata.rajaongkir_type,callback:function(e){t.$set(t.formdata,"rajaongkir_type",e)},expression:"formdata.rajaongkir_type"}}),e("q-input",{attrs:{filled:"",label:"Raja Ongkir API KEY"},model:{value:t.formdata.rajaongkir_apikey,callback:function(e){t.$set(t.formdata,"rajaongkir_apikey",e)},expression:"formdata.rajaongkir_apikey"}})],1),t.config&&t.config.is_shippable?e("div",{staticClass:"q-mt-lg"},[e("div",{staticClass:"text-grey-8 text-weight-medium q-py-sm"},[t._v("Pengaturan Gudang Pengiriman")]),e("div",{staticClass:"cursor-pointer q-pa-md full-width border q-filled",on:{click:t.changeWarehouse}},[t._v(t._s(t.warehouseTitle()))]),t.theCouriers.length?e("div",{staticClass:"q-mt-md"},[e("div",{staticClass:"text-grey-8 text-weight-medium q-py-md"},[t._v("Pengaturan Kurir Aktif")]),e("div",{staticClass:"q-gutter-sm"},t._l(t.theCouriers,(function(a,i){return e("q-btn",{key:i,attrs:{unelevated:"",rounded:"",size:"10px",color:t.isCourierActive(a)?"primary":"grey-5",label:a},on:{click:function(e){return t.handleSelectCourier(a)}}})})),1)]):t._e()]):t._e()]),e("q-card-actions",{staticClass:"q-pa-md justify-end"},[e("q-btn",{attrs:{type:"submit",unelevated:"",size:"12px",label:"Simpan Pengaturan",color:"primary"}})],1)],1)],1),e("q-dialog",{model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[e("q-card",{staticStyle:{width:"100%","max-width":"500px"}},[e("q-card-section",[e("div",{staticClass:"flex items-center justify-between"},[e("div",{staticClass:"text-md text-weight-bold q-mb-sm"},[t._v("Pilih Gudang Pengiriman")]),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"close"}})],1),e("div",{staticClass:"q-pa-sm q-gutter-y-sm"},[e("q-input",{ref:"warehouse",attrs:{loading:t.searchLoading&&"warehouse"==t.searchType,placeholder:"Ketik nama kecamatan",debounce:"1000"},on:{input:t.searchWarehouseData},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},["warehouse"==t.searchType&&t.subdistrictOptions.length?e("div",{staticClass:"relative bg-grey-2",staticStyle:{"min-height":"100px","max-height":"300px","overflow-y":"auto"}},[e("q-list",t._l(t.subdistrictOptions,(function(a){return e("q-item",{key:a.id,attrs:{clickable:""},on:{click:function(e){return t.selectSubdistrict(a)}}},[e("q-item-section",[e("q-item-label",[t._v(t._s(a.subdistrict_name)+" - "+t._s(a.type)+" "+t._s(a.city))])],1)],1)})),1),e("q-inner-loading",{attrs:{showing:t.searchLoading}})],1):t._e()])],1)])],1)],1)],1)}),o=[],r=(a("1276"),a("99af"),a("caad"),a("2532"),a("4de4"),a("a15b"),a("d3b7"),a("e6cf"),a("a79d"),a("758b")),l={name:"Ekspedisi",data:function(){return{codListModal:!1,modal:!1,rajaongkirtypes:["starter","basic","pro"],subdistrictOptions:[],search:"",isWarehouseSearch:!1,searchType:"cod",searchLoading:!1,formdata:{is_shipping_active:!1,rajaongkir_type:"",rajaongkir_apikey:"",warehouse_id:"",warehouse_address:null,rajaongkir_couriers:""}}},computed:{courierHasSelect:function(){return this.formdata.rajaongkir_couriers?this.formdata.rajaongkir_couriers.split(","):[]},theCouriers:function(){return"pro"==this.formdata.rajaongkir_type?this.config.courier_available.pro:"basic"==this.formdata.rajaongkir_type?this.config.courier_available.basic:this.config.courier_available.starter},config:function(){return this.$store.state.config}},mounted:function(){this.config?this.setConfig(this.config):this.getAdminConfig()},methods:{changeWarehouse:function(){var t=this;this.modal=!0,setTimeout((function(){t.$refs.warehouse.focus()}),300)},warehouseTitle:function(){return this.formdata.warehouse_address?"".concat(this.formdata.warehouse_address.subdistrict_name," - ").concat(this.formdata.warehouse_address.type," ").concat(this.formdata.warehouse_address.city,", ").concat(this.formdata.warehouse_address.province):"Pilih Gudang Pengiriman"},setConfig:function(t){this.formdata.is_shipping_active=t.is_shipping_active,this.formdata.rajaongkir_type=t.rajaongkir_type,this.formdata.rajaongkir_apikey=t.rajaongkir_apikey,this.formdata.rajaongkir_couriers=t.rajaongkir_couriers,this.formdata.warehouse_address=t.warehouse_address,this.formdata.warehouse_id=t.warehouse_id},selectCourierType:function(){this.formdata.rajaongkir_couriers=""},isCourierActive:function(t){return!!this.courierHasSelect.length&&!!this.courierHasSelect.includes(t)},handleSelectCourier:function(t){var e=this.courierHasSelect;e.includes(t)?e=e.filter((function(e){return e!=t})):e.push(t),e.length?this.formdata.rajaongkir_couriers=e.join(","):this.formdata.rajaongkir_couriers=""},updateData:function(){var t=this;Object(r["a"])().post("config",this.formdata).then((function(){t.$store.dispatch("getAdminConfig"),t.$q.notify({type:"positive",message:"Berhasil memperbarui data"})})).catch((function(){t.$q.notify({type:"negative",message:"Gagal memperbarui data"})}))},submitWarehouse:function(){this.updateData()},setLoading:function(t){this.$store.commit("SET_LOADING",t)},selectSubdistrict:function(t){this.formdata.warehouse_id=t.city_id,this.formdata.warehouse_address=t,this.modal=!1,this.subdistrictOptions=[],this.search=""},isInWarehouseItem:function(t){return this.formdata.warehouse_address.subdistrict_id==t.subdistrict_id},searchWarehouseData:function(){this.searchType="warehouse",this.findSubdistrict()},getAdminConfig:function(){var t=this;Object(r["a"])().get("adminConfig").then((function(e){200==e.status&&t.setConfig(e.data.results)}))},findSubdistrict:function(){var t=this;this.subdistrictOptions=[],this.search.length<3||(this.searchLoading=!0,Object(r["a"])().get("shipping/findSubdistrict/"+this.search).then((function(e){200==e.status&&(e.data.success?t.subdistrictOptions=e.data.results:t.$q.notify({type:"negative",message:e.data.message}))})).finally((function(){t.searchLoading=!1})))},closeSubdistrictBox:function(){this.subdistrictOptions=[],this.search=""}}},c=l,m=a("2877"),d=a("f09f"),u=a("a370"),f=a("9564"),p=a("ddd8"),h=a("27f9"),g=a("9c40"),_=a("4b7e"),v=a("24e8"),b=a("1c1c"),y=a("66e5"),q=a("4074"),k=a("0170"),C=a("74f7"),x=a("7f67"),w=a("eebe"),$=a.n(w),S=Object(m["a"])(c,n,o,!1,null,null,null),E=S.exports;$()(S,"components",{QCard:d["a"],QCardSection:u["a"],QToggle:f["a"],QSelect:p["a"],QInput:h["a"],QBtn:g["a"],QCardActions:_["a"],QDialog:v["a"],QList:b["a"],QItem:y["a"],QItemSection:q["a"],QItemLabel:k["a"],QInnerLoading:C["a"]}),$()(S,"directives",{ClosePopup:x["a"]});var j=function(){var t=this,e=t._self._c;return e("q-card",{attrs:{flat:""}},[e("q-card-section",[e("div",{staticClass:"text-subtitle1 text-weight-bold"},[t._v("Pengaturan Tampilan")])]),e("q-list",[e("q-item",[e("q-item-section",[e("q-item-label",[t._v("Tema")])],1),e("q-item-section",{attrs:{side:""}},[e("q-select",{attrs:{outlined:"",dense:"",options:t.themes},model:{value:t.form.theme,callback:function(e){t.$set(t.form,"theme",e)},expression:"form.theme"}})],1)],1),e("q-item",[e("q-item-section",[e("q-item-label",[t._v("Base Color")])],1),e("q-item-section",{attrs:{side:""}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.theme_color,expression:"form.theme_color"}],ref:"color",staticStyle:{width:"110px",height:"20px"},attrs:{type:"color"},domProps:{value:t.form.theme_color},on:{input:function(e){e.target.composing||t.$set(t.form,"theme_color",e.target.value)}}})])],1),e("q-item",[e("q-item-section",[e("q-item-label",[t._v("\n          Tampilan produk beranda\n        ")])],1),e("q-item-section",{attrs:{side:""}},[e("q-btn-group",{attrs:{unelevated:""}},[e("q-btn",{attrs:{size:"12px",unelevated:"",color:"primary",outline:"grid"!=t.form.home_view_mode,icon:"grid_view"},on:{click:function(e){return t.changeHomeViewMode("grid")}}},[e("q-tooltip",[t._v("\n              Grid Mode\n            ")])],1),e("q-btn",{attrs:{size:"12px",unelevated:"",color:"primary",outline:"list"!=t.form.home_view_mode,icon:"eva-list"},on:{click:function(e){return t.changeHomeViewMode("list")}}},[e("q-tooltip",[t._v("\n              List Mode\n            ")])],1)],1)],1)],1),e("q-item",[e("q-item-section",[e("q-item-label",[t._v("\n        Tampilan produk katalog\n        ")])],1),e("q-item-section",{attrs:{side:""}},[e("q-btn-group",{attrs:{unelevated:""}},[e("q-btn",{attrs:{size:"12px","no-caps":"",unelevated:"",color:"primary",outline:"grid"!=t.form.product_view_mode,icon:"grid_view"},on:{click:function(e){return t.changeProductViewMode("grid")}}},[e("q-tooltip",[t._v("\n              Grid Mode\n            ")])],1),e("q-btn",{attrs:{size:"12px","no-caps":"",unelevated:"",color:"primary",outline:"list"!=t.form.product_view_mode,icon:"eva-list"},on:{click:function(e){return t.changeProductViewMode("list")}}},[e("q-tooltip",[t._v("\n              List Mode\n            ")])],1)],1)],1)],1),e("q-item",{staticClass:"q-mt-md"},[e("q-item-section",[e("q-item-label",{staticClass:"text-weight-medium"},[t._v("Social Proof Popup")]),e("div",{staticClass:"q-mb-sm text-caption q-mt-sm"},[t._v("\n          Pengaturan social proof notifikasi.\n        ")])],1),e("q-item-section",{attrs:{side:"",top:""}},[e("q-toggle",{attrs:{label:t.form.is_notifypro?"Active":"Inactive","left-label":"",color:"green"},model:{value:t.form.is_notifypro,callback:function(e){t.$set(t.form,"is_notifypro",e)},expression:"form.is_notifypro"}})],1)],1),t.form.is_notifypro?e("q-item",[e("q-item-section",[e("q-input",{attrs:{outlined:"",dense:"",label:"Jeda Waktu Tayang",mask:"###",hint:"Popup akan tayang setiap "+t.form.notifypro_interval+" Detik"},model:{value:t.form.notifypro_interval,callback:function(e){t.$set(t.form,"notifypro_interval",e)},expression:"form.notifypro_interval"}})],1),e("q-item-section",[e("q-input",{attrs:{outlined:"",dense:"",label:"Durasi Penayangan",mask:"###",hint:"Popup akan tayang selama "+t.form.notifypro_timeout+" Detik"},model:{value:t.form.notifypro_timeout,callback:function(e){t.$set(t.form,"notifypro_timeout",e)},expression:"form.notifypro_timeout"}})],1)],1):t._e()],1),e("q-card-section",{staticClass:"flex justify-end"},[e("q-btn",{attrs:{unelevated:"",size:"12px",label:"Simpan Pengaturan",color:"primary"},on:{click:t.saveTampilan}})],1)],1)},Q=[],T={data:function(){return{form:{theme:"",theme_color:"",home_view_mode:"",product_view_mode:"",is_notifypro:!1,notifypro_interval:20,notifypro_timeout:4}}},computed:{config:function(){return this.$store.state.config},themes:function(){return this.$store.state.themes}},watch:{"form.theme_color":function(t){this.setColor(t)}},mounted:function(){this.form.product_view_mode=this.config.product_view_mode,this.form.home_view_mode=this.config.home_view_mode,this.form.is_notifypro=this.config.is_notifypro,this.form.notifypro_interval=this.config.notifypro_interval,this.form.notifypro_timeout=this.config.notifypro_timeout,this.form.theme=this.config.theme,this.form.theme_color=this.config.theme_color},methods:{changeHomeViewMode:function(t){this.form.home_view_mode=t},changeProductViewMode:function(t){this.form.product_view_mode=t},handleChangeColor:function(){this.$refs.color.click()},setColor:function(t){this.$store.commit("SET_THEME_COLOR",t)},saveTampilan:function(){var t=this;Object(r["a"])().post("config",this.form).then((function(e){200==e.status&&t.$store.dispatch("getAdminConfig"),t.$q.notify({type:"positive",message:"Berhasil memperbarui data"})})).catch((function(){t.$q.notify({type:"negative",message:"Gagal memperbarui data"})}))}}},O=T,L=a("e7a9"),P=a("05c0"),D=Object(m["a"])(O,j,Q,!1,null,null,null),I=D.exports;$()(D,"components",{QCard:d["a"],QCardSection:u["a"],QList:b["a"],QItem:y["a"],QItemSection:q["a"],QItemLabel:k["a"],QSelect:p["a"],QBtnGroup:L["a"],QBtn:g["a"],QTooltip:P["a"],QToggle:f["a"],QInput:h["a"]});var A=function(){var t=this,e=t._self._c;return e("q-card",{attrs:{flat:""}},[e("q-card-section",[e("div",{staticClass:"flex items-center justify-between"},[e("div",{staticClass:"text-subtitle1 text-weight-bold"},[t._v("Pengaturan Checkout")])])]),e("q-list",[e("q-item",[e("q-item-section",[e("q-item-label",[t._v("Whatsapp Checkout")]),e("q-item-label",{attrs:{caption:""}},[t._v("Memungkinan user untuk bisa checkout langsung via whatsapp ( Order tidak tersimpan di database )")])],1),e("q-item-section",{attrs:{side:""}},[e("q-toggle",{attrs:{label:t.form.is_whatsapp_checkout?"Active":"Inactive","left-label":"",color:"green"},model:{value:t.form.is_whatsapp_checkout,callback:function(e){t.$set(t.form,"is_whatsapp_checkout",e)},expression:"form.is_whatsapp_checkout"}})],1)],1),e("q-item",[e("q-item-section",[e("q-item-label",[t._v("Guest Checkout")]),e("q-item-label",{attrs:{caption:""}},[t._v("Memunginkan checkout tanpa harus login / register")])],1),e("q-item-section",{attrs:{side:""}},[e("q-toggle",{attrs:{label:t.form.is_guest_checkout?"Active":"Inactive","left-label":"",color:"green"},model:{value:t.form.is_guest_checkout,callback:function(e){t.$set(t.form,"is_guest_checkout",e)},expression:"form.is_guest_checkout"}})],1)],1)],1),e("div",{staticClass:"flex justify-end q-pa-md"},[e("q-btn",{attrs:{unelevated:"",size:"12px",label:"Simpan Pengaturan",color:"primary"},on:{click:t.updateData}})],1)],1)},B=[],M=a("ded3"),z=a.n(M),G={data:function(){return{form:{is_whatsapp_checkout:!1,is_guest_checkout:!0}}},computed:{config:function(){return this.$store.state.config}},mounted:function(){this.setData()},methods:{updateData:function(){var t=this;z()(z()({},this.config),this.form);Object(r["a"])().post("config",this.form).then((function(){t.$q.notify({type:"positive",message:"Berhasil memperbarui data"}),t.$store.dispatch("getAdminConfig")})).catch((function(){t.$q.notify({type:"negative",message:"Gagal memperbarui data"})}))},setData:function(){this.config&&(this.form.is_whatsapp_checkout=this.config.is_whatsapp_checkout,this.form.is_guest_checkout=this.config.is_guest_checkout)}}},N=G,U=Object(m["a"])(N,A,B,!1,null,null,null),K=U.exports;$()(U,"components",{QCard:d["a"],QCardSection:u["a"],QList:b["a"],QItem:y["a"],QItemSection:q["a"],QItemLabel:k["a"],QToggle:f["a"],QBtn:g["a"]});var R=function(){var t=this,e=t._self._c;return e("div",[e("q-card",{attrs:{flat:""}},[e("q-card-section",[e("div",{staticClass:"flex items-center justify-between"},[e("div",{staticClass:"text-subtitle1 text-weight-bold"},[t._v("Telegram Notifikasi")]),e("div",{staticClass:"q-px-sm rounded-borders text-white",class:t.config&&t.config.is_telegram_ready?"bg-green":"bg-grey-6"},[t._v(t._s(t.config&&t.config.is_telegram_ready?"Active":"Disabled"))])]),e("div",{staticClass:"text-caption text-grey-7"},[t._v("Notifikasi order untuk admin via telegram")]),e("div",{staticClass:"text-caption text-grey-7"},[t._v("Silahkan buat bot di telegram untuk mendapatkan token, serta dapatkan user id di bot @infouserid")]),e("form",{on:{submit:function(e){return e.preventDefault(),t.updateData.apply(null,arguments)}}},[e("div",{staticClass:"q-gutter-y-sm q-mt-md"},[e("q-input",{attrs:{filled:"",label:"Telegram Bot Token"},model:{value:t.form.telegram_bot_token,callback:function(e){t.$set(t.form,"telegram_bot_token",e)},expression:"form.telegram_bot_token"}}),e("q-input",{attrs:{filled:"",label:"Telegram user Id",placeholder:"eg: 1486912253"},model:{value:t.form.telegram_user_id,callback:function(e){t.$set(t.form,"telegram_user_id",e)},expression:"form.telegram_user_id"}})],1),e("div",{staticClass:"flex justify-end q-mt-md q-gutter-x-sm"},[e("q-btn",{attrs:{disable:!t.config.is_telegram_ready,loading:t.isLoading,outline:"",size:"12px",type:"button",label:"Test Telegram",color:"primary"},on:{click:t.sendTelegram}}),e("q-btn",{attrs:{unelevated:"",size:"12px",type:"submit",label:"Simpan Pengaturan",color:"primary"}})],1)])])],1),e("q-card",{staticClass:"q-mt-lg",attrs:{flat:""}},[e("q-card-section",[e("div",{staticClass:"flex items-center justify-between"},[e("div",{staticClass:"text-subtitle1 text-weight-bold"},[t._v("Konfigurasi SMTP Email")]),t.mailConfig?e("div",{staticClass:"q-px-sm rounded-borders text-white",class:t.mailConfig.is_ready?"bg-green":"bg-grey-6"},[t._v(t._s(t.mailConfig.is_ready?"Active":"Disabled"))]):t._e()]),e("div",{staticClass:"text-caption text-grey-7"},[t._v("Konfigurasi pengiriman notifikasi via email")]),e("form",{on:{submit:function(e){return e.preventDefault(),t.updateMailConfig.apply(null,arguments)}}},[e("div",{staticClass:"q-gutter-y-sm q-mt-md"},[e("q-input",{attrs:{required:"",filled:"",label:"Smtp Host",placeholder:"eg: smtp.google.com"},model:{value:t.formEmail.smtp_host,callback:function(e){t.$set(t.formEmail,"smtp_host",e)},expression:"formEmail.smtp_host"}}),e("q-input",{attrs:{required:"",filled:"",label:"Smtp Port",placeholder:"eg: 465"},model:{value:t.formEmail.smtp_port,callback:function(e){t.$set(t.formEmail,"smtp_port",e)},expression:"formEmail.smtp_port"}}),e("q-input",{attrs:{required:"",filled:"",label:"Smtp Encryption",placeholder:"eg: tls"},model:{value:t.formEmail.smtp_encryption,callback:function(e){t.$set(t.formEmail,"smtp_encryption",e)},expression:"formEmail.smtp_encryption"}}),e("q-input",{attrs:{required:"",filled:"",label:"Smtp Username",placeholder:"eg: noreply@yourdomain.com"},model:{value:t.formEmail.smtp_username,callback:function(e){t.$set(t.formEmail,"smtp_username",e)},expression:"formEmail.smtp_username"}}),e("q-input",{attrs:{required:"",filled:"",label:"Smtp Password"},model:{value:t.formEmail.smtp_password,callback:function(e){t.$set(t.formEmail,"smtp_password",e)},expression:"formEmail.smtp_password"}}),e("q-input",{attrs:{required:"",filled:"",label:"Mail Sender",placeholder:"eg: youremail@yourdomain.com",type:"email"},model:{value:t.formEmail.from_address,callback:function(e){t.$set(t.formEmail,"from_address",e)},expression:"formEmail.from_address"}}),e("q-input",{attrs:{required:"",filled:"",label:"Sender Name",placeholder:"My Application"},model:{value:t.formEmail.from_name,callback:function(e){t.$set(t.formEmail,"from_name",e)},expression:"formEmail.from_name"}}),e("q-input",{attrs:{required:"",filled:"",label:"Admin Email",placeholder:"Email Admin",hint:"Alamat Email admin notifikasi",type:"email",error:t.isErrorEmail},scopedSlots:t._u([{key:"error",fn:function(){return[t._v("\n           email from address & mail admin tidak boleh sama\n          ")]},proxy:!0}]),model:{value:t.formEmail.mail_admin,callback:function(e){t.$set(t.formEmail,"mail_admin",e)},expression:"formEmail.mail_admin"}})],1),e("div",{staticClass:"flex justify-end q-mt-sm q-gutter-x-sm"},[e("q-btn",{attrs:{disable:t.mailConfig&&!t.mailConfig.is_ready,loading:t.isLoading,outline:"",size:"12px",type:"button",label:"Test Email",color:"primary"},on:{click:t.sendEmail}}),e("q-btn",{attrs:{unelevated:"",size:"12px",type:"submit",label:"Simpan Pengaturan",color:"primary"}})],1)])])],1)],1)},H=[],W={data:function(){return{form:{telegram_bot_token:"",telegram_user_id:""},isLoading:!1,mailConfig:null,formEmail:{smtp_host:"",smtp_port:"",smtp_username:"",smtp_password:"",smtp_encryption:"",from_address:"",from_name:"",mail_admin:"",is_active:!1}}},watch:{"formEmail.is_active":function(t,e){if(t)for(var a in this.formEmail)if(""==this.formEmail[a])return this.formEmail.is_active=!1,void this.$q.notify({type:"negative",message:"Lengkapi semua form untuk mengaktifkan email"})}},computed:{config:function(){return this.$store.state.config},isErrorEmail:function(){return!(!this.formEmail.from_address||!this.formEmail.mail_admin||this.formEmail.from_address!=this.formEmail.mail_admin)}},mounted:function(){this.setData(),this.getMailConfig()},methods:{sendTelegram:function(){var t=this;this.isLoading=!0,Object(r["a"])().get("testingTelegram").then((function(e){200==e.status&&t.$q.notify({type:e.data.results.type,message:e.data.results.message})})).finally((function(){return t.isLoading=!1}))},sendEmail:function(){var t=this;this.isLoading=!0,Object(r["a"])().get("testingEmail").then((function(e){200==e.status&&t.$q.notify({type:e.data.results.type,message:e.data.results.message})})).finally((function(){return t.isLoading=!1}))},updateData:function(){var t=this;Object(r["a"])().post("config",this.form).then((function(){t.$q.notify({type:"positive",message:"Berhasil memperbarui data"}),t.$store.dispatch("getAdminConfig")})).catch((function(){t.$q.notify({type:"negative",message:"Gagal memperbarui data"})}))},setData:function(){this.config&&(this.form.telegram_bot_token=this.config.telegram_bot_token,this.form.telegram_user_id=this.config.telegram_user_id)},getMailConfig:function(){var t=this;Object(r["a"])().get("mailConfig").then((function(e){200==e.status&&t.setEmailConfig(e.data.results)}))},setEmailConfig:function(t){this.mailConfig=t,this.formEmail.smtp_host=t.smtp_host,this.formEmail.smtp_port=t.smtp_port,this.formEmail.smtp_username=t.smtp_username,this.formEmail.smtp_password=t.smtp_password,this.formEmail.smtp_encryption=t.smtp_encryption,this.formEmail.from_address=t.from_address,this.formEmail.from_name=t.from_name,this.formEmail.mail_admin=t.mail_admin,this.formEmail.is_active=t.is_active},updateMailConfig:function(){var t=this;Object(r["a"])().post("mailConfig",this.formEmail).then((function(e){200==e.status&&(t.setEmailConfig(e.data.results),t.$store.dispatch("getAdminConfig"),t.$q.notify({type:"positive",message:"Berhasil memperbarui data"}))}))}}},V=W,F=Object(m["a"])(V,R,H,!1,null,null,null),Y=F.exports;$()(F,"components",{QCard:d["a"],QCardSection:u["a"],QInput:h["a"],QBtn:g["a"]});var J=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-pa-md bg-white box-shadow"},[e("div",{staticClass:"flex items-center justify-between q-mb-xs"},[e("div",{staticClass:"text-md text-weight-bold"},[t._v("Tripay Payment Gateway")]),e("div",[e("q-toggle",{staticClass:"text-grey-8",attrs:{label:t.form.is_payment_gateway?"Active":"Inactive","left-label":"",color:"green"},on:{input:t.checkIsReady},model:{value:t.form.is_payment_gateway,callback:function(e){t.$set(t.form,"is_payment_gateway",e)},expression:"form.is_payment_gateway"}})],1)]),e("form",{on:{submit:function(e){return e.preventDefault(),t.updateDate.apply(null,arguments)}}},[e("div",{staticClass:"q-mb-md text-grey-7 text-caption"},[e("div",[t._v("Pengaturan Tripay payment Gateway, Silahkan daftar di TRIPAY untuk mendapatkan Kredensial, Anda dapat mendaftar melalui link berikut "),e("span",{staticClass:"cursor-pointer bg-green-1 text-dark q-px-xs text-weight-medium q-px-xs",on:{click:t.daftarTripay}},[t._v("https://tripay.co.id/register")])])]),e("div",{staticClass:"q-pt-sm"},[e("div",{staticClass:"q-gutter-y-sm"},[e("q-select",{attrs:{label:"ENV MODE",filled:"",options:t.tripayModes},model:{value:t.form.tripay_mode,callback:function(e){t.$set(t.form,"tripay_mode",e)},expression:"form.tripay_mode"}}),e("q-input",{attrs:{filled:"",label:"Tripay MERCHANT CODE"},model:{value:t.form.tripay_merchant_code,callback:function(e){t.$set(t.form,"tripay_merchant_code",e)},expression:"form.tripay_merchant_code"}}),e("q-input",{attrs:{filled:"",label:"Tripay API KEY"},model:{value:t.form.tripay_api_key,callback:function(e){t.$set(t.form,"tripay_api_key",e)},expression:"form.tripay_api_key"}}),e("q-input",{attrs:{filled:"",label:"Tripay PRIVATE KEY"},model:{value:t.form.tripay_private_key,callback:function(e){t.$set(t.form,"tripay_private_key",e)},expression:"form.tripay_private_key"}}),t.config.is_payment_gateway?e("div",[e("q-input",{attrs:{filled:"",value:t.config.tripay_callback,readonly:""},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-btn",{attrs:{icon:"content_copy",unelevated:"",size:"18px",padding:"4px",flat:""},on:{click:t.handleClickTripayCallback}})]},proxy:!0}],null,!1,111693530)}),e("div",{staticClass:"text-xs text-grey-8 q-pa-xs"},[t._v("Salin URL callback ke dashboard merchant tripay")])],1):t._e()],1)]),e("div",{staticClass:"flex justify-end q-pt-lg"},[e("q-btn",{attrs:{unelevated:"",size:"12px",type:"submit",label:"Simpan Pengaturan",color:"primary"}})],1)])])},X=[],Z=a("cdde"),tt={data:function(){return{tripayModes:["sanbox","production"],form:{tripay_mode:"",tripay_api_key:"",tripay_private_key:"",tripay_merchant_code:"",is_payment_gateway:!1}}},computed:{config:function(){return this.$store.state.config}},mounted:function(){this.config&&this.setConfig()},methods:{setConfig:function(){this.config&&(this.form.tripay_mode=this.config.tripay_mode,this.form.tripay_api_key=this.config.tripay_api_key,this.form.tripay_private_key=this.config.tripay_private_key,this.form.tripay_merchant_code=this.config.tripay_merchant_code,this.form.is_payment_gateway=this.config.is_payment_gateway)},daftarTripay:function(){var t="https://tripay.co.id/?ref=TP10450";window.open(t,"_blank")},handleClickTripayCallback:function(){var t=this;Object(Z["a"])(this.config.tripay_callback).then((function(){t.$q.notify({type:"positive",message:"berhasil menyalin url"})})).catch((function(){}))},updateDate:function(){var t=this;z()(z()({},this.config),this.form);Object(r["a"])().post("config",this.form).then((function(){t.$q.notify({type:"positive",message:"Berhasil memperbarui data"}),t.$store.dispatch("getAdminConfig")})).catch((function(){t.$q.notify({type:"negative",message:"Gagal memperbarui data"})}))},checkIsReady:function(t){t&&(this.isReady()||(this.form.is_payment_gateway=!1,this.$q.notify({type:"negative",message:"Silahkan lengkapi data kredensial untuk mengaktifkan payment gateway."})))},isReady:function(){return!!(this.form.tripay_mode&&this.form.tripay_api_key&&this.form.tripay_private_key&&this.form.tripay_merchant_code)}}},et=tt,at=Object(m["a"])(et,J,X,!1,null,null,null),it=at.exports;$()(at,"components",{QToggle:f["a"],QSelect:p["a"],QInput:h["a"],QBtn:g["a"]});var st=function(){var t=this,e=t._self._c;return e("q-card",{attrs:{flat:""}},[e("q-card-section",[e("div",{staticClass:"text-md text-weight-bold"},[t._v("System Update / Clear Cache")]),e("div",{staticClass:"text-caption text-grey-7"},[t._v("Pengaturan sistem update dan cache situs, Pastikan anda mengerti apa yang anda lakukan")])]),e("q-list",{staticClass:"q-pb-md"},[e("q-item",[e("q-item-section",[e("q-item-label",[t._v("Clear Cache")])],1),e("q-item-section",{attrs:{side:""}},[e("q-btn",{attrs:{loading:t.loadingClearChace,label:"Clear Cache",unelevated:"",color:"primary",size:"12px"},on:{click:t.clearCache}})],1)],1),e("q-item",[e("q-item-section",[t.needUpdate?e("q-item-label",[e("q-badge",{attrs:{color:"green-7"}},[t._v(t._s(t.siteData))]),t._v(" Pending Update\n      ")],1):e("q-item-label",[t._v("Updated")])],1),e("q-item-section",{attrs:{side:""}},[e("q-btn",{attrs:{loading:t.loading,disabled:!t.needUpdate,label:t.needUpdate?"Update Now":"No updated found",unelevated:"",color:t.needUpdate?"primary":"grey-7",size:"12px"},on:{click:t.updateSystem}})],1)],1)],1)],1)},nt=[],ot={data:function(){return{siteData:0,loading:!1,loadingClearChace:!1}},computed:{needUpdate:function(){return this.siteData>0}},created:function(){this.getUpdate()},methods:{getUpdate:function(){var t=this;Object(r["a"])().get("update").then((function(e){200==e.status&&(t.siteData=e.data.results>0?e.data.results:0)}))},updateSystem:function(){var t=this;this.loading=!0,Object(r["a"])().post("update").then((function(e){200==e.status&&(t.getUpdate(),t.$q.notify({type:"positive",message:"Berhasil update system"}))})).catch((function(){t.$q.notify({type:"negative",message:"Gagal update system, silahkan hubungi pengembang aplikasi."})})).finally((function(){t.loading=!1,setTimeout((function(){location.reload()}),500),t.$router.push({name:"Settings"})}))},clearCache:function(){var t=this;this.loadingClearChace=!0,Object(r["a"])().post("clearCache").then((function(e){200==e.status&&t.$q.notify({type:"positive",message:"Berhasil menghapus cache"})})).catch((function(){t.$q.notify({type:"negative",message:"Gagal menghapus cache, silahkan ulangi lagi"})})).finally((function(){t.loadingClearChace=!1,t.$router.push({name:"Settings"})}))}}},rt=ot,lt=a("58a81"),ct=Object(m["a"])(rt,st,nt,!1,null,null,null),mt=ct.exports;$()(ct,"components",{QCard:d["a"],QCardSection:u["a"],QList:b["a"],QItem:y["a"],QItemSection:q["a"],QItemLabel:k["a"],QBtn:g["a"],QBadge:lt["a"]});var dt=function(){var t=this,e=t._self._c;return e("div",[e("form",{on:{submit:function(e){return e.preventDefault(),t.updateData.apply(null,arguments)}}},[e("q-card",{attrs:{flat:""}},[e("q-card-section",[e("div",{staticClass:"q-mb-md"},[e("div",{staticClass:"text-md text-weight-bold"},[t._v("Kurir Toko dan Pembayaran Ditempat ")]),e("div",{staticClass:"q-mb-sm text-caption text-grey-7"},[t._v("Pengaturan pengiriman kurir toko dan opsi pembayaran ditempat")])]),e("div",{staticClass:"flex justify-between items-center q-py-sm"},[e("div",[e("div",{staticClass:"text-weight-medium"},[t._v("Pembayaran Ditempat")]),e("div",{staticClass:"q-mb-sm text-caption text-grey-7"},[t._v("Opsi pembayaran ditempat oleh kurir toko")])]),e("div",[e("q-toggle",{staticClass:"text-grey-8",attrs:{color:"green","left-label":"",label:t.formdata.is_cod_payment?"Active":"Inactive"},model:{value:t.formdata.is_cod_payment,callback:function(e){t.$set(t.formdata,"is_cod_payment",e)},expression:"formdata.is_cod_payment"}})],1)]),e("div",{staticClass:"q-mt-md"},[e("div",{staticClass:"text-weight-medium"},[t._v("Kecamatan Tujuan")]),e("div",{staticClass:"q-mb-sm text-caption text-grey-7"},[t._v("Pilih kecamatan tujuan untuk pengiriman kurir toko ( Kosongkan untuk menonaktifkan ) ")])]),e("div",[e("div",[e("q-input",{attrs:{filled:"",loading:t.searchLoading,placeholder:"Ketik kecamatan tujuan pengiriman COD",debounce:"600"},on:{input:t.searchCodData},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[t.search?e("template",{slot:"append"},[e("q-btn",{attrs:{icon:"close",flat:"",color:"red",round:""},on:{click:t.closeSubdistrictBox}})],1):t._e()],2),t.subdistrictOptions.length?e("div",{staticClass:"relative"},[e("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[e("div",{staticClass:"absolute full-width z-30"},[e("q-card",{staticClass:"bg-white full-width full-height"},[e("div",{staticClass:"scroll",staticStyle:{height:"100%","max-height":"300px"}},[e("q-list",{staticClass:"bg-grey-1"},t._l(t.subdistrictOptions,(function(a,i){return e("q-item",{key:i,attrs:{clickable:""},on:{click:function(e){return t.selectCodItemData(a)}}},[e("q-item-section",{attrs:{side:""}},[t.hasCodData(a)?[e("q-icon",{attrs:{name:"remove_circle",size:"17px",color:"red"}})]:[e("q-icon",{attrs:{name:"add_circle",size:"17px",color:"primary"}})]],2),e("q-item-section",[e("q-item-label",[t._v(t._s(a.subdistrict_name)+" - "+t._s(a.type)+" "+t._s(a.city))])],1)],1)})),1)],1),e("q-inner-loading",{attrs:{showing:t.searchLoading}})],1)],1)])],1):t._e()],1),e("div",{staticClass:"q-py-md"},[e("q-list",{attrs:{separator:""}},[e("q-separator"),e("q-item",[e("q-item-section",[t._v("\n                  Kecamatan Tujuan\n                ")]),e("q-item-section",{attrs:{side:""}},[t._v("\n                  Ongkos Kirim\n                ")])],1),e("q-separator"),t._l(t.formdata.cod_list,(function(a,i){return e("q-item",{key:i,staticClass:"q-px-xs"},[e("q-item-section",{attrs:{side:""}},[e("q-btn",{attrs:{icon:"close",color:"red",dense:"",flat:"",round:""},on:{click:function(e){return t.removeCodList(i)}}})],1),e("q-item-section",[e("q-item-label",[t._v(t._s(a.subdistrict_name)+" "+t._s(a.type)+" "+t._s(a.city))])],1),e("q-item-section",{attrs:{side:""}},[e("div",[e("q-input",{staticStyle:{width:"120px"},attrs:{filled:"",square:"",dense:"",min:"0",prefix:"Rp",mask:"########",required:""},model:{value:t.formdata.cod_list[i].price,callback:function(e){t.$set(t.formdata.cod_list[i],"price",e)},expression:"formdata.cod_list[index].price"}})],1)])],1)}))],2),t.formdata.cod_list.length?t._e():e("div",{staticClass:"text-center q-py-lg"},[t._v("Tidak ada data")])],1)])]),e("q-card-actions",{staticClass:"q-pa-md justify-end"},[e("q-btn",{attrs:{type:"submit",unelevated:"",size:"12px",label:"Simpan Pengaturan",color:"primary"}})],1)],1)],1)])},ut=[],ft=(a("159b"),a("a434"),{name:"LocalShipping",data:function(){return{codListModal:!1,subdistrictOptions:[],modal:!1,search:"",searchLoading:!1,formdata:{cod_list:[],is_cod_payment:!1}}},computed:{config:function(){return this.$store.state.config}},mounted:function(){this.config?this.setConfig(this.config):this.getAdminConfig()},methods:{setConfig:function(t){var e=this;this.formdata.is_cod_payment=t.is_cod_payment,t.cod_list&&t.cod_list.forEach((function(t){e.formdata.cod_list.push(t)}))},updateData:function(){var t=this;Object(r["a"])().post("config",this.formdata).then((function(){t.$store.dispatch("getAdminConfig"),t.$q.notify({type:"positive",message:"Berhasil memperbarui data"})})).catch((function(){t.$q.notify({type:"negative",message:"Gagal memperbarui data"})}))},setLoading:function(t){this.$store.commit("SET_LOADING",t)},selectCodItemData:function(t){var e=this.formdata.cod_list.filter((function(e){return e.subdistrict_id==t.subdistrict_id}));e.length&&(this.formdata.cod_list=this.formdata.cod_list.filter((function(e){return e.subdistrict_id!=t.subdistrict_id}))),this.formdata.cod_list.push(z()(z()({},t),{},{price:0})),this.search="",this.subdistrictOptions=[]},hasCodData:function(t){var e=this.formdata.cod_list.filter((function(e){return e.subdistrict_id==t.subdistrict_id}));return!!e.length},removeCodList:function(t){this.formdata.cod_list.splice(t,1)},searchCodData:function(){this.findSubdistrict()},getAdminConfig:function(){var t=this;Object(r["a"])().get("adminConfig").then((function(e){200==e.status&&t.setConfig(e.data.results)}))},findSubdistrict:function(){var t=this;this.subdistrictOptions=[],this.search.length<3||(this.searchLoading=!0,Object(r["a"])().get("shipping/findSubdistrict/"+this.search).then((function(e){200==e.status&&(e.data.success?t.subdistrictOptions=e.data.results:t.$q.notify({type:"negative",message:e.data.message}))})).finally((function(){t.searchLoading=!1})))},closeSubdistrictBox:function(){this.subdistrictOptions=[],this.search=""}}}),pt=ft,ht=a("0016"),gt=a("eb85"),_t=Object(m["a"])(pt,dt,ut,!1,null,null,null),vt=_t.exports;$()(_t,"components",{QCard:d["a"],QCardSection:u["a"],QToggle:f["a"],QInput:h["a"],QBtn:g["a"],QList:b["a"],QItem:y["a"],QItemSection:q["a"],QIcon:ht["a"],QItemLabel:k["a"],QInnerLoading:C["a"],QSeparator:gt["a"],QCardActions:_["a"]});var bt=function(){var t=this,e=t._self._c;return e("q-card",{attrs:{flat:""}},[e("q-card-section",[e("div",{staticClass:"flex items-center justify-between"},[e("div",{staticClass:"text-subtitle1 text-weight-bold"},[t._v("Pengaturan Biaya Layanan")]),e("div",[e("q-toggle",{staticClass:"text-grey-8",attrs:{label:t.form.is_service_fee?"Active":"Inactive","left-label":"",color:"green"},model:{value:t.form.is_service_fee,callback:function(e){t.$set(t.form,"is_service_fee",e)},expression:"form.is_service_fee"}})],1),e("div",{staticClass:"text-caption text-grey-7"},[t._v("\n      Biaya tambahan penggunaan layanan, akan ditambahkan pada pesanan pelanggan\n      ")])]),e("form",{staticClass:"q-mt-md q-gutter-y-sm",on:{submit:function(e){return e.preventDefault(),t.updateData.apply(null,arguments)}}},[e("q-input",{attrs:{filled:"",required:"",label:"Label"},model:{value:t.form.service_fee_label,callback:function(e){t.$set(t.form,"service_fee_label",e)},expression:"form.service_fee_label"}}),e("q-input",{attrs:{filled:"",type:"number",required:"",min:"0",label:"Biaya Layanan"},model:{value:t.form.service_fee,callback:function(e){t.$set(t.form,"service_fee",e)},expression:"form.service_fee"}}),e("div",{staticClass:"flex justify-end q-mt-md"},[e("q-btn",{attrs:{unelevated:"",size:"12px",type:"submit",label:"Simpan Pengaturan",color:"primary"}})],1)],1)])],1)},yt=[],qt={data:function(){return{form:{is_service_fee:!1,service_fee:0,service_fee_label:""}}},computed:{config:function(){return this.$store.state.config}},mounted:function(){this.setData()},methods:{updateData:function(){var t=this;Object(r["a"])().post("config",this.form).then((function(){t.$q.notify({type:"positive",message:"Berhasil memperbarui data"}),t.$store.dispatch("getAdminConfig")})).catch((function(){t.$q.notify({type:"negative",message:"Gagal memperbarui data"})}))},setData:function(){this.config&&(this.form.is_service_fee=this.config.is_service_fee,this.form.service_fee=this.config.service_fee,this.form.service_fee_label=this.config.service_fee_label)}}},kt=qt,Ct=Object(m["a"])(kt,bt,yt,!1,null,null,null),xt=Ct.exports;$()(Ct,"components",{QCard:d["a"],QCardSection:u["a"],QToggle:f["a"],QInput:h["a"],QBtn:g["a"]});var wt={name:"AdminConfig",components:{Shipping:E,Tampilan:I,Notification:Y,Tripay:it,SystemUpdate:mt,CheckoutConfig:K,LocalShipping:vt,ServiceFee:xt},data:function(){return{tab:"Tampilan",tabs:[{value:"Tampilan",label:"Tampilan"},{value:"Ekspedisi",label:"Ekspedisi"},{value:"Local",label:"Pengiriman Lokal"},{value:"Notifikasi",label:"Notifikasi"},{value:"Tripay",label:"Tripay"},{value:"Checkout",label:"Checkout"},{value:"Fee",label:"Fee Aplikasi"},{value:"System",label:"System Update"}]}},computed:{loading:function(){return this.$store.state.loading},config:function(){return this.$store.state.config}},created:function(){this.config||this.$store.dispatch("getAdminConfig")}},$t=wt,St=a("9989"),Et=a("e359"),jt=a("65c6"),Qt=a("6ac5"),Tt=a("429b"),Ot=a("7460"),Lt=a("adad"),Pt=a("823b"),Dt=a("2eeb"),It=Object(m["a"])($t,i,s,!1,null,null,null);e["default"]=It.exports;$()(It,"components",{QPage:St["a"],QHeader:Et["a"],QToolbar:jt["a"],QBtn:g["a"],QToolbarTitle:Qt["a"],QTabs:Tt["a"],QTab:Ot["a"],QTabPanels:Lt["a"],QTabPanel:Pt["a"],QInnerLoading:C["a"]}),$()(It,"directives",{GoBack:Dt["a"]})}}]);