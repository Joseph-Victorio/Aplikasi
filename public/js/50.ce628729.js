(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[50],{"178c":function(t,a,e){"use strict";e.r(a);e("ac1f"),e("841c");var i=function(){var t=this,a=t._self._c;return a("q-page",[a("q-header",{staticClass:"bg-brand"},[a("q-toolbar",[a("q-btn",{attrs:{to:{name:"Settings"},flat:"",round:"",dense:"",icon:"eva-arrow-back"}}),a("q-toolbar-title",[t._v("\n       List Produk\n      ")]),a("q-btn",{staticClass:"gt-xs",attrs:{color:"white","text-color":"brand",size:"13px","no-caps":"",icon:"eva-plus-circle",to:{name:"ProductCreate"},label:"Tambah Produk"}})],1)],1),a("div",{staticClass:"border q-pa-md row item-center q-gutter-x-sm"},[a("div",{staticClass:"col"},[a("q-input",{ref:"input",attrs:{loading:t.loading,outlined:"",dense:"",color:"grey-2",placeholder:"ketik nama produk"},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.searchProduct.apply(null,arguments)}},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1),a("q-btn",{attrs:{unelevated:"",label:"Cari",color:"primary"},on:{click:t.searchProduct}}),a("q-btn",{attrs:{outline:"",label:"Reset",color:"primary"},on:{click:t.getAdminProducts}})],1),a("div",{staticClass:"q-pt-sm q-pb-xl"},[a("q-list",{attrs:{separator:""}},[a("q-item",{staticClass:"item-header"},[a("q-item-section",[t._v("Produk")])],1),t._l(t.products.data,(function(e){return a("q-item",{key:e.id},[a("q-item-section",{staticClass:"q-pr-md",attrs:{avatar:"",top:""}},[e.featured_image?a("q-img",{staticClass:"bg-white img-product-admin img-thumbnail",attrs:{src:e.featured_image.src,ratio:"1",width:"55px"}}):t._e()],1),a("q-item-section",{attrs:{top:""}},[a("div",[a("q-item-label",{staticClass:"text-15 text-weight-medium text-grey-9",attrs:{lines:"2"}},[t._v(t._s(e.title))]),e.varian_items_count>0?[a("q-item-label",{attrs:{caption:""}},[t._v(t._s(t.renderVarianPrice(e)))]),a("q-item-label",{attrs:{caption:""}},[t._v("Total Stok : "+t._s(e.varian_items_sum_stock)+" ( "+t._s(e.varian_items_count)+" varian )")])]:[a("q-item-label",{attrs:{caption:""}},[t._v(t._s(t.moneyIDR(e.price)))]),a("q-item-label",{attrs:{caption:""}},[t._v("Stok : "+t._s(e.stock))])]],2)]),a("q-item-section",{attrs:{side:"",top:""}},[t.isDesktop?t._e():a("div",[a("q-fab",{attrs:{color:"primary",icon:"eva-chevron-left",direction:"left",glossy:"",padding:"sm",unelevated:""}},[a("q-fab-action",{attrs:{unelevated:"",round:"",icon:"eva-trash-2",glossy:"",color:"red"},on:{click:function(a){return t.remove(e.id)}}}),a("q-fab-action",{attrs:{unelevated:"",to:{name:"ProductEdit",params:{id:e.id}},round:"",glossy:"",color:"blue",icon:"eva-edit-2"}}),a("q-fab-action",{attrs:{unelevated:"",to:{name:"ProductShow",params:{slug:e.slug}},round:"",glossy:"",color:"teal",icon:"eva-external-link-outline"}}),e.varian_items_count>0?a("q-fab-action",{attrs:{unelevated:"",round:"",icon:"eva-pantone",glossy:"",color:"accent"},on:{click:function(a){return t.getDetailVarian(e)}}}):t._e()],1)],1),t.isDesktop?a("div",{staticClass:"row q-gutter-xs"},[e.varian_items_count>0?a("q-btn",{attrs:{size:"sm",round:"",icon:"eva-pantone",color:"accent"},on:{click:function(a){return t.getDetailVarian(e)}}},[a("q-tooltip",{attrs:{"content-class":"bg-dark"}},[t._v("Detil Varian")])],1):t._e(),a("q-btn",{attrs:{size:"sm",round:"",icon:"eva-trash-2",color:"red"},on:{click:function(a){return t.remove(e.id)}}},[a("q-tooltip",{attrs:{"content-class":"bg-dark"}},[t._v("Hapus")])],1),a("q-btn",{attrs:{size:"sm",to:{name:"ProductEdit",params:{id:e.id}},round:"",color:"blue",icon:"eva-edit-2"}},[a("q-tooltip",{attrs:{"content-class":"bg-dark"}},[t._v("Edit")])],1),a("q-btn",{attrs:{size:"sm",to:{name:"ProductShow",params:{slug:e.slug}},round:"",color:"teal",icon:"eva-external-link-outline"}},[a("q-tooltip",{attrs:{"content-class":"bg-dark"}},[t._v("Lihat")])],1)],1):t._e()])],1)}))],2),t.products.next_page_url?a("div",{staticClass:"q-my-md q-gutter-sm text-center"},[a("q-btn",{attrs:{loading:t.isLoadmore,"no-caps":"",outline:"",color:"primary"},on:{click:function(a){return t.paginate(t.products.next_page_url)}}},[a("span",[t._v("Loadmore...")])])],1):t._e()],1),t.products.available?t._e():[a("div",{staticClass:"text-center q-pt-xl"},[t._v("Tdak ada data")])],a("q-page-sticky",{staticClass:"lt-sm",attrs:{position:"bottom-left",offset:[12,12]}},[a("q-btn",{attrs:{fab:"",icon:"add",color:"primary",to:{name:"ProductCreate"},glossy:""}})],1),a("q-dialog",{attrs:{persistent:"",position:"bottom"},model:{value:t.varianViewModal,callback:function(a){t.varianViewModal=a},expression:"varianViewModal"}},[t.productSelected?a("q-card",{staticClass:"max-width q-pb-lg",staticStyle:{"min-height":"400px"}},[a("q-list",[a("q-item",[a("q-item-section",[a("q-item-label",{staticClass:"text-weight-medium",attrs:{lines:"1"}},[a("div",[t._v(t._s(t.productSelected.title))])])],1),a("q-item-section",{attrs:{side:""}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"eva-close",flat:"",padding:"xs",round:""}})],1)],1)],1),a("q-separator"),a("div",[a("q-list",{attrs:{dense:"",separator:""}},t._l(t.varian_items,(function(e){return a("q-item",{key:e.id},[a("q-item-section",[a("q-item-label",{staticClass:"q-gutter-x-xs"},[e.attribute_value?[a("span",[t._v(t._s(e.attribute_label)+" "+t._s(e.attribute_value))]),a("span",[t._v("/")]),a("span",[t._v(t._s(e.value))])]:a("span",[t._v(t._s(e.label)+" "+t._s(e.value))])],2)],1),a("q-item-section",[t._v("Stok : "+t._s(e.stock))]),a("q-item-section",[t._v("Harga : "+t._s(t.moneyIDR(parseInt(e.price))))])],1)})),1)],1),a("q-inner-loading",{attrs:{showing:t.is_loading_varian}})],1):t._e()],1)],2)},n=[],s=e("ded3"),o=e.n(s),r=(e("99af"),e("d3b7"),e("e6cf"),e("a79d"),e("2f62")),c=e("758b"),l={name:"AdminProductList",data:function(){return{productSelected:null,varianViewModal:!1,pageNumber:1,search:"",productSearch:[],showListId:null,isLoadmore:!1,is_loading_varian:!1,varian_items:[]}},computed:o()(o()({},Object(r["d"])({products:function(t){return t.product.admin_products},loading:function(t){return t.loading}})),{},{isDesktop:function(){return window.innerWidth>600}}),methods:o()(o()({},Object(r["b"])("product",["getAdminProducts","productDelete","searchAdminProducts"])),{},{selectVarian:function(t){this.varianViewModal=!0,this.productSelected=t},renderVarianPrice:function(t){if(t.min_price&&t.max_price){var a=parseInt(t.min_price.price),e=parseInt(t.max_price.price);return a<e?"".concat(this.moneyIDR(a)," - ").concat(this.moneyIDR(e)):"@ ".concat(this.moneyIDR(a))}return""},searchProduct:function(){var t=this;this.$store.commit("SET_LOADING",!0),this.$refs.input.blur(),this.searchAdminProducts(this.search).then((function(a){200==a.status&&t.$store.commit("product/SET_ADMIN_PRODUCTS",a.data.results)})).finally((function(){t.$store.commit("SET_LOADING",!1)}))},showList:function(t){this.showListId==t?this.showListId=null:this.showListId=t},remove:function(t){var a=this;this.$q.dialog({title:"Konfirmasi Penghapusan Item",message:"Yakin akan menghapus data?",ok:{label:"Hapus",flat:!0,"no-caps":!0},cancel:{label:"Batal",flat:!0,"no-caps":!0}}).onOk((function(){a.productDelete(t)}))},getMargin:function(t){return t.buy_price&&t.price?t.price-t.buy_price:0},paginate:function(t){var a=this;this.isLoadmore=!0,Object(c["a"])().get(t).then((function(t){200==t.status&&a.$store.commit("product/PAGINATE_ADMIN_PRODUCTS",t.data.results)})).finally((function(){return a.isLoadmore=!1}))},getDetailVarian:function(t){var a=this;this.varianViewModal=!0,this.productSelected&&this.productSelected.id==t.id||(this.varian_items=[],this.is_loading_varian=!0,this.productSelected=t,Object(c["a"])().get("products/varians/"+t.id).then((function(t){200==t.status&&(a.varian_items=t.data.results)})).finally((function(){return a.is_loading_varian=!1})))}}),created:function(){this.products.data.length<=this.products.per_page&&this.getAdminProducts()}},d=l,u=e("2877"),p=e("9989"),m=e("e359"),_=e("65c6"),v=e("9c40"),b=e("6ac5"),g=e("27f9"),h=e("1c1c"),f=e("66e5"),q=e("4074"),k=e("068f"),y=e("0170"),w=e("c294"),x=e("72db"),P=e("05c0"),C=e("de5e"),I=e("24e8"),S=e("f09f"),D=e("eb85"),Q=e("74f7"),L=e("7f67"),A=e("eebe"),T=e.n(A),V=Object(u["a"])(d,i,n,!1,null,null,null);a["default"]=V.exports;T()(V,"components",{QPage:p["a"],QHeader:m["a"],QToolbar:_["a"],QBtn:v["a"],QToolbarTitle:b["a"],QInput:g["a"],QList:h["a"],QItem:f["a"],QItemSection:q["a"],QImg:k["a"],QItemLabel:y["a"],QFab:w["a"],QFabAction:x["a"],QTooltip:P["a"],QPageSticky:C["a"],QDialog:I["a"],QCard:S["a"],QSeparator:D["a"],QInnerLoading:Q["a"]}),T()(V,"directives",{ClosePopup:L["a"]})}}]);