(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"3dc5":function(t,i,e){"use strict";e.r(i);e("b0c0");var s=function(){var t=this,i=t._self._c;return i("q-page",{staticClass:"q-pb-lg bg-grey-1"},[i("q-header",{staticClass:"no-print box-shadow bg-brand"},[i("q-toolbar",[i("q-btn",{directives:[{name:"go-back",rawName:"v-go-back.single",modifiers:{single:!0}}],attrs:{flat:"",round:"",dense:"",icon:"eva-arrow-back"}}),i("q-toolbar-title",{staticClass:"text-weight-bold brand"},[t.invoice?i("span",[t._v("Invoice "+t._s(t.invoice.order_ref))]):t._e()]),i("q-btn",{attrs:{icon:"print",dense:"",flat:""},on:{click:t.printInvoice}})],1)],1),t.invoice?i("div",{staticClass:"no-print"},[i("div",{staticClass:"q-gutter-y-md"},[i("div",{staticClass:"q-mt-md q-pb-lg bg-white q-py-md q-px-sm"},[i("q-list",{attrs:{dense:""}},[i("q-item",[i("q-item-section",[i("q-item-label",{staticClass:"text-md"},[t._v("Invoice")])],1),i("q-item-section",[i("q-item-label",[t._v("\n                "+t._s(t.invoice.order_ref)+"\n                "),i("q-icon",{staticClass:"q-ml-xs cursor-pointer",attrs:{name:"eva-copy",size:"18px"},on:{click:function(i){return t.copy(t.invoice.order_ref)}}})],1)],1)],1),i("q-item",[i("q-item-section",[t._v("Tanggal Pembelian")]),i("q-item-section",[t._v(t._s(t.invoice.created))])],1),i("q-item",[i("q-item-section",[t._v("Status Pesanan")]),i("q-item-section",[i("q-item-label",[i("span",{staticClass:"q-px-md rounded-borders text-white q-py-xs",class:"bg-".concat(t.getOrderStatusColor(t.invoice.order_status))},[t._v(t._s(t.invoice.status_label))])])],1)],1)],1)],1),i("q-card",{staticClass:"no-print bg-white shadow",attrs:{square:""}},[i("div",{staticClass:"card-heading"},[t._v("Produk Detil")]),i("q-card-section",[i("q-separator",{attrs:{color:"teal q-pt-xs"}}),i("q-list",{attrs:{separator:""}},[i("q-item",{staticClass:"bg-green-1"},[i("q-item-section",[t._v("Produk")]),i("q-item-section",[t._v("Qty")]),i("q-item-section",[t._v("Harga")])],1),t._l(t.invoice.items,(function(e,s){return i("q-item",{key:s},[i("q-item-section",[i("div",{staticClass:"text-md"},[t._v(t._s(e.name))]),i("div",{staticClass:"text-caption tet-grey-6"},[t._v(t._s(e.note))])]),i("q-item-section",[t._v(t._s(e.quantity))]),i("q-item-section",[t._v(t._s(t.moneyIDR(e.price)))])],1)}))],2)],1)],1),i("q-card",{staticClass:"no-print bg-white shadow",attrs:{square:""}},[i("div",{staticClass:"card-heading"},[i("div",[t._v("Info Pelanggan")])]),i("q-card-section",{staticClass:"q-px-sm"},[i("q-list",{attrs:{dense:""}},[i("q-item",[i("q-item-section",[t._v("Nama")]),i("q-item-section",[t._v(t._s(t.invoice.customer_name))])],1),i("q-item",[i("q-item-section",[t._v("Ponsel")]),i("q-item-section",[t._v(t._s(t.invoice.customer_phone))])],1),i("q-item",[i("q-item-section",[t._v("Alamat")]),i("q-item-section",[i("q-item-label",[i("div",{domProps:{innerHTML:t._s(t.invoice.shipping_address)}})])],1)],1),i("q-item",[i("q-item-section",[t._v("Kurir")]),i("q-item-section",[t._v(t._s(t.invoice.shipping_courier_name)+" ")])],1),i("q-item",[i("q-item-section",[i("q-item-label",[t._v("No Resi "),t.invoice.shipping_courier_code?i("q-icon",{staticClass:"q-ml-sm cursor-pointer",attrs:{name:"eva-copy",size:"18px"},on:{click:function(i){return t.copy(t.invoice.shipping_courier_code)}}}):t._e()],1)],1),i("q-item-section",[t._v(t._s(t.invoice.shipping_courier_code?t.invoice.shipping_courier_code:"-"))])],1)],1)],1)],1),i("q-card",{staticClass:"no-print bg-white shadow",attrs:{square:""}},[i("div",{staticClass:"card-heading border-b"},[t._v("Rincian Pembayaran")]),i("q-card-section",{staticClass:"q-px-sm"},[i("q-list",{attrs:{dense:""}},[i("q-item",[i("q-item-section",[t._v("Total Belanja")]),i("q-item-section",[t._v(t._s(t.moneyIDR(t.invoice.order_subtotal)))])],1),i("q-item",[i("q-item-section",[t._v("Total Ongkos Kirim ("+t._s(t.invoice.order_weight)+" gram)")]),i("q-item-section",[t._v(t._s(t.moneyIDR(t.invoice.shipping_cost)))])],1),i("q-item",[i("q-item-section",[i("q-item-label",{staticClass:"text-weight-bold q-py-sm text-md"},[t._v("Total Tagihan")])],1),i("q-item-section",[i("q-item-label",{staticClass:"text-weight-bold q-py-sm text-md"},[t._v(t._s(t.moneyIDR(t.invoice.grand_total)))])],1)],1)],1)],1)],1)],1)]):t._e(),i("q-inner-loading",{staticClass:"no-print",attrs:{showing:t.loading}}),t.invoice?i("div",{class:{"no-print":t.isPrintPacking}},[i("div",{staticClass:"print-invoice"},[i("div",{},[i("div",{staticClass:"bg-white"},[i("div",{staticClass:"text-center"},[i("div",{staticClass:"text-weight-bold q-mb-xs",staticStyle:{"font-size":"1.8rem"}},[t._v(t._s(t.shop.name))]),i("div",{staticStyle:{"font-size":"1.1rem"}},[t._v(t._s(t.shop.phone))]),i("div",{staticStyle:{"font-size":"1.1rem"}},[t._v(t._s(t.shop.app_url))])]),i("hr"),i("div",{staticClass:"q-mb-md flex justify-between item-start",staticStyle:{"font-size":"1.1rem"}},[i("table",[i("tr",[i("td",{attrs:{align:"left"}},[t._v("Invocie No")]),i("td",[t._v(":")]),i("td",{attrs:{align:"left"}},[t._v(t._s(t.invoice.order_ref))])]),i("tr",[i("td",{attrs:{align:"left"}},[t._v("Tanggal")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.invoice.created))])])]),t.qrData?i("div",{},[i("img",{attrs:{src:t.qrData,width:"80",height:"80"}})]):t._e()]),i("hr"),i("div",{staticClass:"text-weight-bold q-my-xs"},[t._v("Pelanggan:")]),i("hr"),i("div",{staticClass:"flex justify-between items-start",staticStyle:{"font-size":"1.1rem"}},[i("div",{},[i("div",{staticClass:"text-weight-bold"},[t._v(t._s(t.invoice.customer_name))]),i("div",[t._v(t._s(t.invoice.customer_phone))]),i("div",{staticStyle:{"font-size":"1.2rem"},domProps:{innerHTML:t._s(t.invoice.shipping_address)}})])]),i("hr"),i("div",{staticClass:"relative q-pt-xs",staticStyle:{"font-size":"1.1rem"}},[i("hr"),i("div",{staticClass:"text-weight-bold q-my-xs"},[t._v("Detil Pesanan:")]),i("hr"),t.invoice.items?i("table",{staticClass:"table-order-item"},[i("tr",[i("th",{attrs:{align:"left"}},[t._v("Item")]),i("th",{attrs:{align:"left"}},[t._v("qty")]),i("th",{attrs:{align:"right"}},[t._v("Harga")])]),t._l(t.invoice.items,(function(e,s){return i("tr",{key:s},[i("td",{},[i("div",[t._v(t._s(e.name))]),i("div",{staticClass:"text-caption tet-grey-6"},[t._v(t._s(e.note))])]),i("td",[t._v(t._s(e.quantity))]),i("td",{attrs:{align:"right"}},[t._v(t._s(t.$money(e.price)))])])}))],2):t._e(),i("div",{staticClass:"column justify-end items-end q-mt-sm"},[i("table",{staticClass:"dense"},[i("tr",[i("td",{attrs:{align:"right"}},[t._v("Jumlah")]),i("td",[t._v(":")]),i("td",[t._v("Rp")]),i("td",{attrs:{align:"right"}},[t._v(t._s(t.$money(t.invoice.order_subtotal)))])]),i("tr",[i("td",{attrs:{align:"right"}},[t._v("Ongkos Kirim")]),i("td",[t._v(":")]),i("td",[t._v("Rp")]),i("td",{attrs:{align:"right"}},[t._v(t._s(t.$money(t.invoice.shipping_cost)))])]),i("tr",[i("th",{attrs:{align:"right"}},[t._v("Total Bayar")]),i("th",{attrs:{align:"right"}},[t._v(":")]),i("th",[t._v("Rp")]),i("th",{attrs:{align:"right"}},[t._v(t._s(t.$money(t.invoice.grand_total)))])])])])])])])])]):t._e(),t.invoice?i("div",{class:{"no-print":t.isPrintInvoice}},[i("div",{staticClass:"print-packing"},[i("div",{staticClass:"bg-white"},[i("div",{staticClass:"text-center"},[i("div",{staticClass:"text-weight-bold q-mb-xs",staticStyle:{"font-size":"1rem"}},[t._v(t._s(t.shop.name))]),i("div",{},[t._v(t._s(t.shop.phone))]),i("div",{staticClass:"text-xs",domProps:{innerHTML:t._s(t.shop.address)}})]),i("div",{staticClass:"flex justify-between q-mb-sm"},[i("div",{},[i("div",{staticClass:"text-weight-medium q-mb-xs text-weight-bold"},[t._v("Tujuan:")]),i("div",[t._v(t._s(t.invoice.customer_name))]),i("div",[t._v(t._s(t.invoice.customer_phone))]),i("div",{domProps:{innerHTML:t._s(t.invoice.shipping_address)}})])]),i("div",[i("div",{staticClass:"q-mb-xs text-weight-bold"},[t._v("Detil Pesanan")]),t.invoice.items?i("table",{staticClass:"table-order-item"},[i("tr",[i("th",{attrs:{align:"left"}},[t._v("Item")]),i("th",{attrs:{align:"left"}},[t._v("qty")])]),t._l(t.invoice.items,(function(e,s){return i("tr",{key:s},[i("td",{},[i("div",[t._v(t._s(e.name))]),i("div",{staticClass:"text-caption tet-grey-6"},[t._v(t._s(e.note))])]),i("td",[t._v(t._s(e.quantity))])])}))],2):t._e()])])])]):t._e()],1)},n=[],a=e("ded3"),o=e.n(a),r=(e("99af"),e("cdde")),c=e("2f62"),d=e("d055"),v=e.n(d),l={name:"InvoiceIndex",data:function(){return{throtle:1,isPrintPacking:!1,isPrintInvoice:!1,timeout:null,qrData:""}},computed:o()({},Object(c["d"])({loading:function(t){return t.loading},shop:function(t){return t.shop},invoice:function(t){return t.order.invoice},config:function(t){return t.config}})),created:function(){this.getOrder()},methods:o()(o()({},Object(c["b"])("order",["getOrderByRef"])),{},{generateQr:function(){var t=this,i={errorCorrectionLevel:"H",type:"image/jpeg",quality:.3,margin:1};v.a.toDataURL(this.getRoutePath(),i,(function(i,e){if(i)throw i;t.qrData=e}))},getRoutePath:function(){var t=this.$router.resolve({name:"UserInvoice",params:{order_ref:this.invoice.order_ref}});return location.origin+t.href},getOrder:function(){var t=this;this.$store.commit("SET_LOADING",!0),this.$route.params.order_ref&&this.getOrderByRef(this.$route.params.order_ref).then((function(i){200==i.status&&t.$store.commit("order/SET_INVOICE",i.data.results),t.$store.commit("SET_LOADING",!1),t.checkOrderStatus()})).catch((function(){}))},money:function(t){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t)},copy:function(t){var i=this;Object(r["a"])(t).then((function(){i.$q.notify({type:"positive",message:"Berhasil menyalin"})})).catch((function(){i.$q.notify({type:"negative",message:"Browser anda tidak support copy to clipboard"})}))},copyAddress:function(){var t="".concat(this.invoice.customer_name,"\n").concat(this.invoice.customer_phone,"\n").concat(this.invoice.shipping_address);this.copy(t)},printInvoice:function(){this.qrData||this.generateQr();var t=(new Date).toDateString();document.title="INVOICE #".concat(this.invoice.order_ref," ").concat(t),this.isPrintPacking=!1,this.isPrintInvoice=!0,setTimeout((function(){window.print()}),200)},printPacking:function(){var t=(new Date).toDateString();document.title="PACKING #".concat(this.invoice.order_ref," ").concat(t),this.isPrintPacking=!0,this.isPrintInvoice=!1,setTimeout((function(){window.print()}),200)}}),beforeDestroy:function(){clearTimeout(this.timeout)}},m=l,_=(e("6f46"),e("2877")),g=e("9989"),h=e("e359"),p=e("65c6"),u=e("9c40"),q=e("6ac5"),f=e("1c1c"),b=e("66e5"),y=e("4074"),C=e("0170"),w=e("0016"),x=e("f09f"),I=e("a370"),P=e("eb85"),k=e("74f7"),D=e("2eeb"),T=e("eebe"),S=e.n(T),Q=Object(_["a"])(m,s,n,!1,null,null,null);i["default"]=Q.exports;S()(Q,"components",{QPage:g["a"],QHeader:h["a"],QToolbar:p["a"],QBtn:u["a"],QToolbarTitle:q["a"],QList:f["a"],QItem:b["a"],QItemSection:y["a"],QItemLabel:C["a"],QIcon:w["a"],QCard:x["a"],QCardSection:I["a"],QSeparator:P["a"],QInnerLoading:k["a"]}),S()(Q,"directives",{GoBack:D["a"]})},"6f46":function(t,i,e){"use strict";e("9db0")},"9db0":function(t,i,e){}}]);