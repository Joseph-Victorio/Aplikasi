(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[27],{bc2a:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t._self._c;return a("q-page",{staticClass:"bg-grey-1 q-pb-lg"},[a("q-header",{class:t.getHeaderColorBrand},[a("q-toolbar",[a("q-btn",{directives:[{name:"go-back",rawName:"v-go-back.single",modifiers:{single:!0}}],attrs:{flat:"",round:"",dense:"",icon:"eva-arrow-back"}}),a("q-toolbar-title",[t._v("\n        Konfigurasi Aplikasi\n      ")])],1),a("div",{staticClass:"bg-white box-shadow text-dark"},[a("q-tabs",{attrs:{"outside-arrows":"","mobile-arrows":"","active-color":"primary"},model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},t._l(t.tabs,(function(t){return a("q-tab",{key:t.value,attrs:{name:t.value,label:t.label,"no-caps":""}})})),1)],1)],1),a("q-tab-panels",{staticClass:"bg-transparent",attrs:{animated:""},model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[a("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"BasicConfig"}},[a("BasicConfig")],1),a("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"ShippingConfig"}},[a("ShippingConfig")],1),a("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"Local"}},[a("LocalShipping")],1),a("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"System"}},[a("system-update")],1)],1),a("q-inner-loading",{attrs:{showing:t.loading}})],1)},s=[],o=(e("ac1f"),e("841c"),function(){var t=this,a=t._self._c;return a("div",[a("form",{on:{submit:function(a){return a.preventDefault(),t.updateData.apply(null,arguments)}}},[a("q-card",{staticClass:"q-pa-sm",attrs:{flat:""}},[a("q-card-section",[a("div",{staticClass:"flex items-center justify-between"},[a("div",{staticClass:"text-md text-weight-bold"},[t._v("Ekspedisi")]),a("q-toggle",{staticClass:"text-grey-8",attrs:{label:t.formdata.is_shipping_active?"Active":"Disabled","left-label":"",color:"teal"},model:{value:t.formdata.is_shipping_active,callback:function(a){t.$set(t.formdata,"is_shipping_active",a)},expression:"formdata.is_shipping_active"}})],1),a("div",{staticClass:"text-caption text-grey-7"},[a("div",[t._v("Pengaturan ongkir otomatis by Rajaongkir")]),a("div",[t._v("Silahkan daftar di rajaongkir.com untuk mendapatkan apikey")])]),a("div",{staticClass:"q-gutter-y-sm q-py-md"},[a("q-select",{attrs:{label:"Raja Ongkir Paket",filled:"",options:t.rajaongkirtypes},on:{input:t.selectCourierType},model:{value:t.formdata.rajaongkir_type,callback:function(a){t.$set(t.formdata,"rajaongkir_type",a)},expression:"formdata.rajaongkir_type"}}),a("q-input",{attrs:{filled:"",label:"Raja Ongkir API KEY"},model:{value:t.formdata.rajaongkir_apikey,callback:function(a){t.$set(t.formdata,"rajaongkir_apikey",a)},expression:"formdata.rajaongkir_apikey"}})],1),t.config?a("div",{staticClass:"q-mt-lg"},[a("div",{staticClass:"text-grey-8 text-weight-medium q-py-sm"},[t._v("Pengaturan Gudang Pengiriman")]),a("div",{staticClass:"cursor-pointer q-pa-md full-width border q-filled",on:{click:t.changeWarehouse}},[t._v(t._s(t.warehouseTitle())+"\n          ")]),t.theCouriers.length?a("div",{staticClass:"q-mt-md"},[a("div",{staticClass:"text-grey-8 text-weight-medium q-pt-md text-md"},[t._v("Pengaturan Kurir")]),a("div",{staticClass:"text-grey-7 text-caption q-pb-md"},[t._v("Aktifkan kurir yang yang akan digunakan")]),a("div",{staticClass:"q-gutter-sm"},t._l(t.theCouriers,(function(e,i){return a("q-btn",{key:i,attrs:{"no-caps":"",unelevated:"",padding:"3px 8px",outline:!t.isCourierActive(e),size:"13px",color:t.isCourierActive(e)?"green":"grey-7"},on:{click:function(a){return t.handleSelectCourier(e)}}},[a("q-icon",{attrs:{name:t.isCourierActive(e)?"eva-checkmark-square":"eva-square"}}),a("span",{staticClass:"q-ml-xs"},[t._v(t._s(e.label))])],1)})),1)]):t._e()]):t._e()]),a("q-card-actions",{staticClass:"q-pa-md justify-end"},[a("q-btn",{attrs:{type:"submit",unelevated:"",size:"12px",label:"Simpan Pengaturan",color:"primary"}})],1)],1)],1),a("q-dialog",{model:{value:t.modal,callback:function(a){t.modal=a},expression:"modal"}},[a("q-card",{staticStyle:{width:"100%","max-width":"500px"}},[a("q-card-section",[a("div",{staticClass:"flex items-center justify-between"},[a("div",{staticClass:"text-md text-weight-bold q-mb-sm"},[t._v("Pilih Gudang Pengiriman")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"close"}})],1),a("div",{staticClass:"q-pa-sm q-gutter-y-sm"},[a("q-input",{ref:"warehouse",attrs:{loading:t.searchLoading&&"warehouse"==t.searchType,placeholder:"Ketik nama kecamatan",debounce:"1000"},on:{input:t.searchWarehouseData},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}}),a("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},["warehouse"==t.searchType&&t.subdistrictOptions.length?a("div",{staticClass:"relative bg-grey-2",staticStyle:{"min-height":"100px","max-height":"300px","overflow-y":"auto"}},[a("q-list",t._l(t.subdistrictOptions,(function(e){return a("q-item",{key:e.id,attrs:{clickable:""},on:{click:function(a){return t.selectSubdistrict(e)}}},[a("q-item-section",[a("q-item-label",[t._v(t._s(e.subdistrict_name)+" - "+t._s(e.type)+" "+t._s(e.city))])],1)],1)})),1),a("q-inner-loading",{attrs:{showing:t.searchLoading}})],1):t._e()])],1)])],1)],1)],1)}),r=[],n=(e("d81d"),e("99af"),e("caad"),e("2532"),e("7db0"),e("4de4"),e("d3b7"),e("e6cf"),e("a79d"),e("758b")),c={name:"Ekspedisi",data:function(){return{codListModal:!1,modal:!1,rajaongkirtypes:["starter","basic","pro"],subdistrictOptions:[],search:"",isWarehouseSearch:!1,searchType:"cod",searchLoading:!1,formdata:{is_shipping_active:!1,rajaongkir_type:"",rajaongkir_apikey:"",warehouse_id:"",warehouse_address:null,rajaongkir_couriers:[]}}},computed:{theCouriers:function(){return"pro"==this.formdata.rajaongkir_type?this.config.courier_available.pro:"basic"==this.formdata.rajaongkir_type?this.config.courier_available.basic:this.config.courier_available.starter},config:function(){return this.$store.state.config},isCouriersValueActive:function(){return this.formdata.rajaongkir_couriers.map((function(t){return t.value}))}},mounted:function(){this.config?this.setConfig(this.config):this.getAdminConfig()},methods:{changeWarehouse:function(){var t=this;this.modal=!0,setTimeout((function(){t.$refs.warehouse.focus()}),300)},warehouseTitle:function(){return this.formdata.warehouse_address?"".concat(this.formdata.warehouse_address.subdistrict_name," - ").concat(this.formdata.warehouse_address.type," ").concat(this.formdata.warehouse_address.city,", ").concat(this.formdata.warehouse_address.province):"Pilih Gudang Pengiriman"},setConfig:function(t){this.formdata.is_shipping_active=t.is_shipping_active,this.formdata.rajaongkir_type=t.rajaongkir_type,this.formdata.rajaongkir_apikey=t.rajaongkir_apikey,this.formdata.rajaongkir_couriers=t.rajaongkir_couriers&&t.rajaongkir_couriers.length?t.rajaongkir_couriers:[],this.formdata.warehouse_address=t.warehouse_address,this.formdata.warehouse_id=t.warehouse_id},selectCourierType:function(){this.formdata.rajaongkir_couriers=[]},isCourierActive:function(t){return!!this.formdata.rajaongkir_couriers.length&&!!this.isCouriersValueActive.includes(t.value)},handleSelectCourier:function(t){var a=this.formdata.rajaongkir_couriers.find((function(a){return a.value==t.value}));void 0!=a?this.formdata.rajaongkir_couriers=this.formdata.rajaongkir_couriers.filter((function(t){return t.value!=a.value})):this.formdata.rajaongkir_couriers.push(t)},updateData:function(){var t=this;Object(n["a"])().post("config",this.formdata).then((function(){t.$store.dispatch("getAdminConfig"),t.$q.notify({type:"positive",message:"Berhasil memperbarui data"})})).catch((function(){t.$q.notify({type:"negative",message:"Gagal memperbarui data"})}))},submitWarehouse:function(){this.updateData()},setLoading:function(t){this.$store.commit("SET_LOADING",t)},selectSubdistrict:function(t){this.formdata.warehouse_id=t.city_id,this.formdata.warehouse_address=t,this.modal=!1,this.subdistrictOptions=[],this.search=""},isInWarehouseItem:function(t){return this.formdata.warehouse_address.id==t.id},searchWarehouseData:function(){this.searchType="warehouse",this.findAddress()},getAdminConfig:function(){var t=this;Object(n["a"])().get("admin-config").then((function(a){200==a.status&&t.setConfig(a.data.results)}))},findAddress:function(){var t=this;this.subdistrictOptions=[],this.search.length<3||(this.searchLoading=!0,Object(n["a"])().get("searchAddress/"+this.search).then((function(a){200==a.status&&(a.data.success?t.subdistrictOptions=a.data.results:t.$q.notify({type:"negative",message:a.data.message}))})).finally((function(){t.searchLoading=!1})))},closeSubdistrictBox:function(){this.subdistrictOptions=[],this.search=""}}},l=c,d=e("2877"),m=e("f09f"),u=e("a370"),p=e("9564"),f=e("ddd8"),h=e("27f9"),g=e("9c40"),_=e("0016"),v=e("4b7e"),b=e("24e8"),q=e("1c1c"),y=e("66e5"),C=e("4074"),k=e("0170"),x=e("74f7"),w=e("7f67"),S=e("eebe"),j=e.n(S),Q=Object(d["a"])(l,o,r,!1,null,null,null),$=Q.exports;j()(Q,"components",{QCard:m["a"],QCardSection:u["a"],QToggle:p["a"],QSelect:f["a"],QInput:h["a"],QBtn:g["a"],QIcon:_["a"],QCardActions:v["a"],QDialog:b["a"],QList:q["a"],QItem:y["a"],QItemSection:C["a"],QItemLabel:k["a"],QInnerLoading:x["a"]}),j()(Q,"directives",{ClosePopup:w["a"]});var O=e("448a"),P=e.n(O),T=function(){var t=this,a=t._self._c;return a("q-card",{staticClass:"q-pa-sm",attrs:{flat:""}},[a("q-card-section",[a("div",{staticClass:"text-subtitle1 text-weight-bold"},[t._v("Pengaturan Tema dan Tampilan")]),a("q-list",[a("q-item",{staticClass:"q-px-xs"},[a("q-item-section",[a("q-item-label",{staticClass:"text-weight-medium"},[t._v("Tema")]),a("q-item-label",{attrs:{caption:""}},[t._v("Konfigurasi default tema")])],1),a("q-item-section",{attrs:{side:""}},[a("q-select",{staticStyle:{"min-width":"110px"},attrs:{outlined:"",dense:"",options:t.themes},model:{value:t.form.theme,callback:function(a){t.$set(t.form,"theme",a)},expression:"form.theme"}})],1)],1),a("q-item",{staticClass:"q-px-xs"},[a("q-item-section",[a("q-item-label",{staticClass:"text-weight-medium"},[t._v("Brand Color")]),a("q-item-label",{attrs:{caption:""}},[t._v("Konfigurasi warna Address bar, pwa theme dan heading")])],1),a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"cursor-pointer img-thumbnail",style:"width:110px;height:30px;background-color:".concat(t.form.theme_color)},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-color",{attrs:{"no-header":""},model:{value:t.form.theme_color,callback:function(a){t.$set(t.form,"theme_color",a)},expression:"form.theme_color"}})],1)],1)])],1),a("q-item",{staticClass:"q-px-xs"},[a("q-item-section",[a("q-item-label",{staticClass:"text-weight-medium"},[t._v("Primary Color")]),a("q-item-label",{attrs:{caption:""}},[t._v("Terdapat pada title, button")])],1),a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"cursor-pointer img-thumbnail",style:"width:110px;height:30px;background-color:".concat(t.form.primary_color)},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-color",{model:{value:t.form.primary_color,callback:function(a){t.$set(t.form,"primary_color",a)},expression:"form.primary_color"}})],1)],1)])],1),a("q-item",{staticClass:"q-px-xs"},[a("q-item-section",[a("q-item-label",{staticClass:"text-weight-medium"},[t._v("Secondary Color")]),a("q-item-label",{attrs:{caption:""}},[t._v("Terdapat pada harga produk, badge, diskon")])],1),a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"cursor-pointer img-thumbnail",style:"width:110px;height:30px;background-color:".concat(t.form.secondary_color)},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-color",{model:{value:t.form.secondary_color,callback:function(a){t.$set(t.form,"secondary_color",a)},expression:"form.secondary_color"}})],1)],1)])],1),a("q-item",{staticClass:"q-px-xs"},[a("q-item-section",[a("q-item-label",{staticClass:"text-weight-medium"},[t._v("Accent Color")]),a("q-item-label",{attrs:{caption:""}},[t._v("Terdapat pada rating, varian, produk review")])],1),a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"cursor-pointer img-thumbnail",style:"width:110px;height:30px;background-color:".concat(t.form.accent_color)},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-color",{model:{value:t.form.accent_color,callback:function(a){t.$set(t.form,"accent_color",a)},expression:"form.accent_color"}})],1)],1)])],1),a("q-item",{staticClass:"q-mt-md q-px-xs"},[a("q-item-section",[a("q-item-label",{staticClass:"text-weight-medium"},[t._v("Auto Approved Produk Review")])],1),a("q-item-section",{attrs:{side:"",top:""}},[a("q-toggle",{attrs:{label:t.form.review_auto_approved?"Active":"Disabled","left-label":"",color:"teal"},model:{value:t.form.review_auto_approved,callback:function(a){t.$set(t.form,"review_auto_approved",a)},expression:"form.review_auto_approved"}})],1)],1),a("q-item",{staticClass:"q-mt-md q-px-xs"},[a("q-item-section",[a("div",{staticClass:"text-weight-bold text-subtitle1"},[t._v("Social Proof Popup")]),a("div",{staticClass:"text-caption text-grey-7"},[t._v("\n            Pengaturan social proof notifikasi.\n          ")])]),a("q-item-section",{attrs:{side:"",top:""}},[a("q-toggle",{attrs:{label:t.form.is_notifypro?"Active":"Disabled","left-label":"",color:"teal"},model:{value:t.form.is_notifypro,callback:function(a){t.$set(t.form,"is_notifypro",a)},expression:"form.is_notifypro"}})],1)],1),t.form.is_notifypro?a("q-item",{staticClass:"q-px-none"},[a("q-item-section",[a("q-input",{attrs:{filled:"",label:"Jeda Waktu Tayang",mask:"###",hint:"Popup akan tayang setiap "+t.form.notifypro_interval+" Detik"},model:{value:t.form.notifypro_interval,callback:function(a){t.$set(t.form,"notifypro_interval",a)},expression:"form.notifypro_interval"}})],1),a("q-item-section",[a("q-input",{attrs:{filled:"",label:"Durasi Penayangan",mask:"###",hint:"Popup akan tayang selama "+t.form.notifypro_timeout+" Detik"},model:{value:t.form.notifypro_timeout,callback:function(a){t.$set(t.form,"notifypro_timeout",a)},expression:"form.notifypro_timeout"}})],1)],1):t._e(),a("div",{staticClass:"q-mt-lg"},[a("div",{staticClass:"text-subtitle1 text-weight-bold"},[t._v("Produk Beranda")]),a("div",{staticClass:"text-caption text-grey-7"},[t._v("Pengaturan tampilan produk beranda")]),a("q-item",{staticClass:"q-px-none q-mt-xs"},[a("q-item-section",[a("q-item-label",[a("q-input",{attrs:{filled:"",label:"Produk ditampilkan"},model:{value:t.form.home_product_limit,callback:function(a){t.$set(t.form,"home_product_limit",a)},expression:"form.home_product_limit"}})],1)],1),a("q-item-section",[a("q-item-label",[a("q-select",{attrs:{filled:"",label:"Urutan Produk",options:[].concat(P()(t.sorts),[{value:"RANDOM",label:"Random"}]),"emit-value":"","map-options":""},model:{value:t.form.home_product_sort,callback:function(a){t.$set(t.form,"home_product_sort",a)},expression:"form.home_product_sort"}})],1)],1),a("q-item-section",[a("q-item-label",[a("q-select",{attrs:{filled:"",label:"Tampilan Mode",options:[{value:"grid",label:"Grid Mode"},{value:"list",label:"List Mode"}],"emit-value":"","map-options":""},model:{value:t.form.home_view_mode,callback:function(a){t.$set(t.form,"home_view_mode",a)},expression:"form.home_view_mode"}})],1)],1)],1)],1),a("div",{staticClass:"q-mt-md"},[a("div",{staticClass:"text-subtitle1 text-weight-bold"},[t._v("Produk Katalog")]),a("div",{staticClass:"text-caption text-grey-7"},[t._v("Pengaturan tampilan produk katalog")]),a("q-item",{staticClass:"q-px-none q-mt-xs"},[a("q-item-section",[a("q-item-label",[a("q-input",{attrs:{filled:"",label:"Produk ditampilkan"},model:{value:t.form.catalog_product_limit,callback:function(a){t.$set(t.form,"catalog_product_limit",a)},expression:"form.catalog_product_limit"}})],1)],1),a("q-item-section",[a("q-item-label",[a("q-select",{attrs:{filled:"",label:"Urutan Produk",options:t.sorts,"emit-value":"","map-options":""},model:{value:t.form.catalog_product_sort,callback:function(a){t.$set(t.form,"catalog_product_sort",a)},expression:"form.catalog_product_sort"}})],1)],1),a("q-item-section",[a("q-item-label",[a("q-select",{attrs:{filled:"",label:"Tampilan Mode",options:[{value:"grid",label:"Grid Mode"},{value:"list",label:"List Mode"}],"emit-value":"","map-options":""},model:{value:t.form.product_view_mode,callback:function(a){t.$set(t.form,"product_view_mode",a)},expression:"form.product_view_mode"}})],1)],1)],1)],1)],1)],1),a("q-card-section",{staticClass:"flex justify-end"},[a("q-btn",{attrs:{unelevated:"",size:"12px",label:"Simpan Pengaturan",color:"primary"},on:{click:t.saveTampilan}})],1)],1)},A=[],L=e("9523"),D=e.n(L),I={data:function(){return{sorts:[{value:"DESC",label:"Terbaru"},{value:"ASC",label:"Terlama"}],form:D()({theme:"",theme_color:"",primary_color:"",secondary_color:"",accent_color:"",home_view_mode:"",product_view_mode:"",is_notifypro:!1,notifypro_interval:20,notifypro_timeout:4,review_auto_approved:!1,catalog_product_limit:10,catalog_product_sort:"DESC",home_product_limit:10,home_product_sort:"DESC"},"review_auto_approved",!1)}},computed:{config:function(){return this.$store.state.config},themes:function(){return this.$store.state.themes}},watch:{"form.theme_color":function(t){this.$store.commit("SET_THEME_COLOR",t)},"form.primary_color":function(t){this.$store.commit("SET_PRIMARY_COLOR",t)},"form.secondary_color":function(t){this.$store.commit("SET_SECONDARY_COLOR",t)},"form.accent_color":function(t){this.$store.commit("SET_ACCENT_COLOR",t)}},mounted:function(){this.form.product_view_mode=this.config.product_view_mode,this.form.home_view_mode=this.config.home_view_mode,this.form.is_notifypro=this.config.is_notifypro,this.form.notifypro_interval=this.config.notifypro_interval,this.form.notifypro_timeout=this.config.notifypro_timeout,this.form.theme=this.config.theme,this.form.theme_color=this.config.theme_color,this.form.primary_color=this.config.primary_color,this.form.secondary_color=this.config.secondary_color,this.form.accent_color=this.config.accent_color,this.form.review_auto_approved=this.config.review_auto_approved,this.form.catalog_product_limit=this.config.catalog_product_limit,this.form.catalog_product_sort=this.config.catalog_product_sort,this.form.home_product_limit=this.config.home_product_limit,this.form.home_product_sort=this.config.home_product_sort},methods:{changeHomeViewMode:function(t){this.form.home_view_mode=t},changeProductViewMode:function(t){this.form.product_view_mode=t},handleChangeColor:function(){this.$refs.color.click()},saveTampilan:function(){var t=this;localStorage.removeItem("__nextshop_theme"),Object(n["a"])().post("config",this.form).then((function(a){200==a.status&&t.$store.dispatch("getAdminConfig"),t.$q.notify({type:"positive",message:"Berhasil memperbarui data"})})).catch((function(){t.$q.notify({type:"negative",message:"Gagal memperbarui data"})}))}}},B=I,E=e("7cbe"),U=e("b498"),R=Object(d["a"])(B,T,A,!1,null,null,null),G=R.exports;j()(R,"components",{QCard:m["a"],QCardSection:u["a"],QList:q["a"],QItem:y["a"],QItemSection:C["a"],QItemLabel:k["a"],QSelect:f["a"],QPopupProxy:E["a"],QColor:U["a"],QToggle:p["a"],QInput:h["a"],QBtn:g["a"]});var M=function(){var t=this,a=t._self._c;return a("q-card",{staticClass:"q-pa-sm",attrs:{flat:""}},[a("q-card-section",[a("div",{staticClass:"text-md text-weight-bold"},[t._v("System Update / Clear Cache")]),a("div",{staticClass:"text-caption text-grey-7"},[t._v("Pengaturan sistem update dan cache situs, Pastikan anda mengerti apa yang anda lakukan")]),a("q-list",{staticClass:"q-pb-md"},[a("q-item",{staticClass:"q-px-xs"},[a("q-item-section",[a("q-item-label",[t._v("Clear Cache")])],1),a("q-item-section",{attrs:{side:""}},[a("q-btn",{staticStyle:{"min-width":"150px"},attrs:{loading:t.loadingClearChace,label:"Clear Cache",unelevated:"",color:"primary",size:"12px"},on:{click:t.clearCache}})],1)],1),a("q-item",{staticClass:"q-px-xs"},[a("q-item-section",[t.needUpdate?a("q-item-label",[a("q-badge",{attrs:{color:"green-7"}},[t._v(t._s(t.siteData))]),t._v(" Pending Update\n          ")],1):a("q-item-label",[t._v("Update")])],1),a("q-item-section",{attrs:{side:""}},[a("q-btn",{staticStyle:{"min-width":"150px"},attrs:{loading:t.loading,disable:!t.needUpdate,label:t.needUpdate?"Update Now":"No updated found",unelevated:"",color:t.needUpdate?"primary":"grey-7",size:"12px"},on:{click:t.updateSystem}})],1)],1)],1)],1)],1)},K=[],z={data:function(){return{siteData:0,loading:!1,loadingClearChace:!1}},computed:{needUpdate:function(){return this.siteData>0}},created:function(){this.getUpdate()},methods:{getUpdate:function(){var t=this;Object(n["a"])().get("update").then((function(a){200==a.status&&(t.siteData=a.data.results>0?a.data.results:0)}))},updateSystem:function(){var t=this;this.loading=!0,Object(n["a"])().post("update").then((function(a){200==a.status&&(t.getUpdate(),t.$q.notify({type:"positive",message:"Berhasil update system"}))})).catch((function(){t.$q.notify({type:"negative",message:"Gagal update system, silahkan hubungi pengembang aplikasi."})})).finally((function(){t.loading=!1,setTimeout((function(){location.reload()}),500),t.$router.push({name:"Settings"})}))},clearCache:function(){var t=this;this.loadingClearChace=!0,Object(n["a"])().post("clearCache").then((function(a){200==a.status&&t.$q.notify({type:"positive",message:"Berhasil menghapus cache"})})).catch((function(){t.$q.notify({type:"negative",message:"Gagal menghapus cache, silahkan ulangi lagi"})})).finally((function(){t.loadingClearChace=!1,t.$router.push({name:"Settings"})}))}}},N=z,W=e("58a81"),H=Object(d["a"])(N,M,K,!1,null,null,null),V=H.exports;j()(H,"components",{QCard:m["a"],QCardSection:u["a"],QList:q["a"],QItem:y["a"],QItemSection:C["a"],QItemLabel:k["a"],QBtn:g["a"],QBadge:W["a"]});var J=function(){var t=this,a=t._self._c;return a("q-card",{staticClass:"q-pa-sm",attrs:{flat:""}},[a("form",{on:{submit:function(a){return a.preventDefault(),t.updateData.apply(null,arguments)}}},[a("q-card",{attrs:{flat:""}},[a("q-card-section",[a("div",{staticClass:"q-mt-md"},[a("div",{staticClass:"text-weight-medium"},[t._v("Kecamatan Tujuan")]),a("div",{staticClass:"q-mb-sm text-caption text-grey-7"},[t._v("Pilih kecamatan tujuan untuk pengiriman kurir toko ( Kosongkan\n            untuk menonaktifkan ) ")])]),a("div",[a("div",[a("q-input",{attrs:{filled:"",loading:t.searchLoading,placeholder:"Ketik kecamatan tujuan pengiriman COD",debounce:"600"},on:{input:t.searchCodData},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}},[t.search?a("template",{slot:"append"},[a("q-btn",{attrs:{icon:"close",flat:"",color:"red",round:""},on:{click:t.closeSubdistrictBox}})],1):t._e()],2),t.subdistrictOptions.length?a("div",{staticClass:"relative"},[a("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[a("div",{staticClass:"absolute full-width z-30"},[a("q-card",{staticClass:"bg-white full-width full-height"},[a("div",{staticClass:"scroll",staticStyle:{height:"100%","max-height":"300px"}},[a("q-list",{staticClass:"bg-grey-1"},t._l(t.subdistrictOptions,(function(e,i){return a("q-item",{key:i,attrs:{clickable:""},on:{click:function(a){return t.selectCodItemData(e)}}},[a("q-item-section",{attrs:{side:""}},[t.hasCodData(e)?[a("q-icon",{attrs:{name:"remove_circle",size:"17px",color:"red"}})]:[a("q-icon",{attrs:{name:"add_circle",size:"17px",color:"primary"}})]],2),a("q-item-section",[a("q-item-label",[t._v(t._s(e.subdistrict_name)+" - "+t._s(e.type)+" "+t._s(e.city))])],1)],1)})),1)],1),a("q-inner-loading",{attrs:{showing:t.searchLoading}})],1)],1)])],1):t._e()],1),a("div",{staticClass:"q-py-md"},[a("q-list",{attrs:{separator:""}},[a("q-separator"),a("q-item",[a("q-item-section",[t._v("\n                  Kecamatan Tujuan\n                ")]),a("q-item-section",{attrs:{side:""}},[t._v("\n                  Ongkos Kirim\n                ")])],1),a("q-separator"),t._l(t.formdata.cod_list,(function(e,i){return a("q-item",{key:i,staticClass:"q-px-xs"},[a("q-item-section",{attrs:{side:""}},[a("q-btn",{attrs:{icon:"close",color:"red",dense:"",flat:"",round:""},on:{click:function(a){return t.removeCodList(i)}}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(e.subdistrict_name)+" "+t._s(e.type)+" "+t._s(e.city))])],1),a("q-item-section",{attrs:{side:""}},[a("div",[a("q-input",{staticStyle:{width:"120px"},attrs:{filled:"",square:"",dense:"",min:"0",prefix:"Rp",mask:"########",required:""},model:{value:t.formdata.cod_list[i].price,callback:function(a){t.$set(t.formdata.cod_list[i],"price",a)},expression:"formdata.cod_list[index].price"}})],1)])],1)}))],2),t.formdata.cod_list.length?t._e():a("div",{staticClass:"text-center q-py-lg"},[t._v("Tidak ada data")])],1)])]),a("q-card-actions",{staticClass:"q-pa-md justify-end"},[a("q-btn",{attrs:{type:"submit",unelevated:"",size:"12px",label:"Simpan Pengaturan",color:"primary"}})],1)],1)],1)])},Y=[],F=e("ded3"),X=e.n(F),Z=(e("159b"),e("a434"),{name:"LocalShipping",data:function(){return{codListModal:!1,subdistrictOptions:[],modal:!1,search:"",searchLoading:!1,formdata:{cod_list:[],is_cod_payment:!1}}},computed:{config:function(){return this.$store.state.config}},mounted:function(){this.config?this.setConfig(this.config):this.getAdminConfig()},methods:{setConfig:function(t){var a=this;this.formdata.is_cod_payment=t.is_cod_payment,t.cod_list&&t.cod_list.forEach((function(t){a.formdata.cod_list.push(t)}))},updateData:function(){var t=this;Object(n["a"])().post("config",this.formdata).then((function(){t.$store.dispatch("getAdminConfig"),t.$q.notify({type:"positive",message:"Berhasil memperbarui data"})})).catch((function(){t.$q.notify({type:"negative",message:"Gagal memperbarui data"})}))},setLoading:function(t){this.$store.commit("SET_LOADING",t)},selectCodItemData:function(t){var a=this.formdata.cod_list.filter((function(a){return a.id==t.id}));a.length&&(this.formdata.cod_list=this.formdata.cod_list.filter((function(a){return a.id!=t.id}))),this.formdata.cod_list.push(X()(X()({},t),{},{price:0})),this.search="",this.subdistrictOptions=[]},hasCodData:function(t){var a=this.formdata.cod_list.filter((function(a){return a.id==t.id}));return!!a.length},removeCodList:function(t){this.formdata.cod_list.splice(t,1)},searchCodData:function(){this.findAddress()},getAdminConfig:function(){var t=this;Object(n["a"])().get("admin-config").then((function(a){200==a.status&&t.setConfig(a.data.results)}))},findAddress:function(){var t=this;this.subdistrictOptions=[],this.search.length<3||(this.searchLoading=!0,Object(n["a"])().get("searchAddress/"+this.search).then((function(a){200==a.status&&(a.data.success?t.subdistrictOptions=a.data.results:t.$q.notify({type:"negative",message:a.data.message}))})).finally((function(){t.searchLoading=!1})))},closeSubdistrictBox:function(){this.subdistrictOptions=[],this.search=""}}}),tt=Z,at=e("eb85"),et=Object(d["a"])(tt,J,Y,!1,null,null,null),it=et.exports;j()(et,"components",{QCard:m["a"],QCardSection:u["a"],QInput:h["a"],QBtn:g["a"],QList:q["a"],QItem:y["a"],QItemSection:C["a"],QIcon:_["a"],QItemLabel:k["a"],QInnerLoading:x["a"],QSeparator:at["a"],QCardActions:v["a"]});var st={name:"AppConfigIndex",components:{ShippingConfig:$,BasicConfig:G,SystemUpdate:V,LocalShipping:it},data:function(){return{tab:"BasicConfig",tabs:[{value:"BasicConfig",label:"Basic"},{value:"ShippingConfig",label:"Pengiriman Ekspedisi"},{value:"Local",label:"Pengiriman Toko"},{value:"System",label:"System Update"}]}},computed:{loading:function(){return this.$store.state.loading},config:function(){return this.$store.state.config}},created:function(){this.config||this.$store.dispatch("getAdminConfig")}},ot=st,rt=e("9989"),nt=e("e359"),ct=e("65c6"),lt=e("6ac5"),dt=e("429b"),mt=e("7460"),ut=e("adad"),pt=e("823b"),ft=e("2eeb"),ht=Object(d["a"])(ot,i,s,!1,null,null,null);a["default"]=ht.exports;j()(ht,"components",{QPage:rt["a"],QHeader:nt["a"],QToolbar:ct["a"],QBtn:g["a"],QToolbarTitle:lt["a"],QTabs:dt["a"],QTab:mt["a"],QTabPanels:ut["a"],QTabPanel:pt["a"],QInnerLoading:x["a"]}),j()(ht,"directives",{GoBack:ft["a"]})}}]);