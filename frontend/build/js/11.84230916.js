(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"3e67":function(t,a,i){"use strict";i("dd13")},bc2a:function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t._self._c;return a("q-page",{staticClass:"bg-grey-1 q-pb-lg"},[a("q-header",{class:t.getHeaderColorBrand},[a("q-toolbar",[a("q-btn",{directives:[{name:"go-back",rawName:"v-go-back.single",modifiers:{single:!0}}],attrs:{flat:"",round:"",dense:"",icon:"eva-arrow-back"}}),a("q-toolbar-title",[t._v("\n            Konfigurasi Aplikasi\n         ")])],1),a("div",{staticClass:"bg-white box-shadow text-dark"},[a("q-tabs",{attrs:{"outside-arrows":"","mobile-arrows":"","active-color":"primary"},model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},t._l(t.tabs,(function(t){return a("q-tab",{key:t.value,attrs:{name:t.value,label:t.label,"no-caps":""}})})),1)],1)],1),a("q-tab-panels",{staticClass:"bg-transparent",attrs:{animated:""},model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[a("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"BasicConfig"}},[a("BasicConfig")],1),a("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"ShippingConfig"}},[a("ShippingConfig")],1),a("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"Local"}},[a("LocalShipping")],1),a("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"System"}},[a("system-update")],1)],1),a("q-inner-loading",{attrs:{showing:t.loading}})],1)},o=[],s=(i("ac1f"),i("841c"),i("b0c0"),function(){var t=this,a=t._self._c;return a("div",[a("form",{on:{submit:function(a){return a.preventDefault(),t.updateData.apply(null,arguments)}}},[a("q-card",{staticClass:"q-pa-sm",attrs:{flat:""}},[a("q-card-section",[a("div",{staticClass:"flex items-center justify-between"},[a("div",{staticClass:"text-md text-weight-bold"},[t._v("Ekspedisi")]),a("q-toggle",{staticClass:"text-grey-8",attrs:{label:t.formdata.is_shipping_active?"Active":"Disabled","left-label":"",color:"teal"},model:{value:t.formdata.is_shipping_active,callback:function(a){t.$set(t.formdata,"is_shipping_active",a)},expression:"formdata.is_shipping_active"}})],1),a("div",{staticClass:"text-caption text-grey-7"},[a("div",[t._v("Pengaturan ongkir otomatis by Rajaongkir")]),a("div",[t._v("Silahkan daftar di rajaongkir.com untuk mendapatkan apikey")])]),a("div",{staticClass:"q-gutter-y-sm q-py-md"},[a("q-select",{attrs:{label:"Raja Ongkir Paket",filled:"",options:t.rajaongkirtypes},on:{"update:modelValue":t.selectType,input:t.selectCourierType},model:{value:t.formdata.rajaongkir_type,callback:function(a){t.$set(t.formdata,"rajaongkir_type",a)},expression:"formdata.rajaongkir_type"}}),a("q-input",{attrs:{filled:"",label:"Raja Ongkir API KEY"},model:{value:t.formdata.rajaongkir_apikey,callback:function(a){t.$set(t.formdata,"rajaongkir_apikey",a)},expression:"formdata.rajaongkir_apikey"}})],1),t.config?a("div",{staticClass:"q-mt-lg"},[a("div",{staticClass:"text-grey-8 text-weight-medium q-py-sm"},[t._v("Pengaturan Gudang Pengiriman")]),a("div",{staticClass:"cursor-pointer q-pa-md full-width border q-filled",on:{click:t.changeWarehouse}},[t._v(t._s(t.warehouseTitle())+"\n               ")]),t.theCouriers.length?a("div",{staticClass:"q-mt-md"},[a("div",{staticClass:"text-grey-8 text-weight-medium q-pt-md text-md"},[t._v("Pengaturan Kurir")]),a("div",{staticClass:"text-grey-7 text-caption q-pb-md"},[t._v("Aktifkan kurir yang yang akan digunakan")]),a("div",{staticClass:"q-gutter-sm"},t._l(t.theCouriers,(function(i,e){return a("q-btn",{key:e,attrs:{"no-caps":"",unelevated:"",padding:"3px 8px",outline:!t.isCourierActive(i),size:"13px",color:t.isCourierActive(i)?"green":"grey-7"},on:{click:function(a){return t.handleSelectCourier(i)}}},[a("q-icon",{attrs:{name:t.isCourierActive(i)?"eva-checkmark-square":"eva-square"}}),a("span",{staticClass:"q-ml-xs"},[t._v(t._s(i.label))])],1)})),1)]):t._e()]):t._e()]),a("q-card-actions",{staticClass:"q-py-lg"},[a("q-btn",{staticClass:"full-width",attrs:{type:"submit",label:"Simpan Pengaturan",color:"primary"}})],1)],1)],1),a("q-dialog",{model:{value:t.modal,callback:function(a){t.modal=a},expression:"modal"}},[a("q-card",{staticStyle:{width:"100%","max-width":"500px"}},[a("q-card-section",[a("div",{staticClass:"flex items-center justify-between"},[a("div",{staticClass:"text-md text-weight-bold q-mb-sm"},[t._v("Pilih Gudang Pengiriman")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"close"}})],1),a("div",{staticClass:"q-pa-sm q-gutter-y-sm"},[a("q-input",{ref:"warehouse",attrs:{loading:t.searchLoading,placeholder:"Ketik nama kecamatan",debounce:"1000"},on:{input:t.searchWarehouseData},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}}),a("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.subdistrictOptions.length?a("div",{staticClass:"relative bg-grey-2",staticStyle:{"min-height":"100px","max-height":"300px","overflow-y":"auto"}},[a("q-list",t._l(t.subdistrictOptions,(function(i){return a("q-item",{key:i.id,attrs:{clickable:""},on:{click:function(a){return t.selectSubdistrict(i)}}},[a("q-item-section",[a("q-item-label",[t._v(t._s(i.name))])],1)],1)})),1),a("q-inner-loading",{attrs:{showing:t.searchLoading}})],1):t._e()])],1)])],1)],1)],1)}),n=[],r=(i("d81d"),i("caad"),i("2532"),i("7db0"),i("4de4"),i("d3b7"),i("e6cf"),i("a79d"),i("758b")),c={name:"Ekspedisi",data:function(){return{codListModal:!1,modal:!1,rajaongkirtypes:["starter","pro"],subdistrictOptions:[],search:"",isWarehouseSearch:!1,searchLoading:!1,formdata:{is_shipping_active:!1,rajaongkir_type:"",rajaongkir_apikey:"",warehouse_id:"",warehouse_address:null,rajaongkir_couriers:[]}}},watch:{"formdata.is_shipping_active":function(t){if(1==t&&(!this.formdata.rajaongkir_type||!this.formdata.rajaongkir_apikey||!this.formdata.warehouse_id||!this.formdata.warehouse_address||!this.formdata.rajaongkir_couriers.length))return this.formdata.is_shipping_active=!1,void this.$q.notify({type:"warning",message:"Untuk mengaktifkan servis, semua input tidak boleh kosong"})}},computed:{theCouriers:function(){return"pro"==this.formdata.rajaongkir_type?this.config.courier_available.pro:"basic"==this.formdata.rajaongkir_type?this.config.courier_available.basic:this.config.courier_available.starter},config:function(){return this.$store.state.config},isCouriersValueActive:function(){return this.formdata.rajaongkir_couriers.map((function(t){return t.value}))}},mounted:function(){this.config?this.setConfig(this.config):this.getAdminConfig()},methods:{selectType:function(t){this.form.rajaongkir_type=t,this.form.rajaongkir_couriers=[],this.updateData()},changeWarehouse:function(){var t=this;this.modal=!0,this.search="",setTimeout((function(){t.$refs.warehouse.focus()}),300)},warehouseTitle:function(){return this.formdata.warehouse_address?this.formdata.warehouse_address.name:"Pilih Gudang Pengiriman"},setConfig:function(t){this.formdata.is_shipping_active=t.is_shipping_active,this.formdata.rajaongkir_type=t.rajaongkir_type,this.formdata.rajaongkir_apikey=t.rajaongkir_apikey,this.formdata.rajaongkir_couriers=t.rajaongkir_couriers&&t.rajaongkir_couriers.length?t.rajaongkir_couriers:[],this.formdata.warehouse_address=t.warehouse_address,this.formdata.warehouse_id=t.warehouse_id},selectCourierType:function(){this.formdata.rajaongkir_couriers=[]},isCourierActive:function(t){return!!this.formdata.rajaongkir_couriers.length&&!!this.isCouriersValueActive.includes(t.value)},handleSelectCourier:function(t){var a=this.formdata.rajaongkir_couriers.find((function(a){return a.value==t.value}));void 0!=a?this.formdata.rajaongkir_couriers=this.formdata.rajaongkir_couriers.filter((function(t){return t.value!=a.value})):this.formdata.rajaongkir_couriers.push(t)},updateData:function(){var t=this;Object(r["a"])().post("config",this.formdata).then((function(){t.$store.dispatch("getAdminConfig"),t.$q.notify({type:"positive",message:"Berhasil memperbarui data"})})).catch((function(){t.$q.notify({type:"negative",message:"Gagal memperbarui data"})}))},submitWarehouse:function(){this.updateData()},selectSubdistrict:function(t){this.formdata.warehouse_id=t.city_id,this.formdata.warehouse_address=t,this.modal=!1,this.subdistrictOptions=[],this.search=""},isInWarehouseItem:function(t){return this.formdata.warehouse_address.id==t.id},searchWarehouseData:function(){this.findAddress()},getAdminConfig:function(){var t=this;Object(r["a"])().get("admin-config").then((function(a){200==a.status&&t.setConfig(a.data.results)}))},findAddress:function(){var t=this;this.subdistrictOptions=[],this.search.length<3||(this.searchLoading=!0,Object(r["a"])().get("searchAddress/"+this.search).then((function(a){200==a.status&&(a.data.success?t.subdistrictOptions=a.data.results:t.$q.notify({type:"negative",message:a.data.message}))})).finally((function(){t.searchLoading=!1})))},closeSubdistrictBox:function(){this.subdistrictOptions=[],this.search=""}}},l=c,d=i("2877"),m=i("f09f"),u=i("a370"),p=i("9564"),h=i("ddd8"),f=i("27f9"),g=i("9c40"),_=i("0016"),v=i("4b7e"),b=i("24e8"),k=i("1c1c"),q=i("66e5"),y=i("4074"),C=i("0170"),x=i("74f7"),w=i("7f67"),S=i("eebe"),j=i.n(S),M=Object(d["a"])(l,s,n,!1,null,null,null),Q=M.exports;j()(M,"components",{QCard:m["a"],QCardSection:u["a"],QToggle:p["a"],QSelect:h["a"],QInput:f["a"],QBtn:g["a"],QIcon:_["a"],QCardActions:v["a"],QDialog:b["a"],QList:k["a"],QItem:q["a"],QItemSection:y["a"],QItemLabel:C["a"],QInnerLoading:x["a"]}),j()(M,"directives",{ClosePopup:w["a"]});var $=i("448a"),T=i.n($),P=(i("99af"),function(){var t=this,a=t._self._c;return a("q-card",{staticClass:"q-pa-sm",attrs:{flat:""}},[a("q-card-section",[a("div",{staticClass:"text-subtitle1 text-weight-bold"},[t._v("Pengaturan Tema dan Tampilan")]),a("q-list",[a("q-item",{staticClass:"q-px-xs"},[a("q-item-section",[a("q-item-label",{staticClass:"text-weight-medium"},[t._v("Tema")]),a("q-item-label",{attrs:{caption:""}},[t._v("Konfigurasi default tema")])],1),a("q-item-section",{attrs:{side:""}},[a("q-select",{staticStyle:{"min-width":"110px"},attrs:{outlined:"",dense:"",options:t.themes},model:{value:t.form.theme,callback:function(a){t.$set(t.form,"theme",a)},expression:"form.theme"}})],1)],1),a("q-item",{staticClass:"q-px-xs"},[a("q-item-section",[a("q-item-label",{staticClass:"text-weight-medium"},[t._v("Brand Color")]),a("q-item-label",{attrs:{caption:""}},[t._v("Konfigurasi warna Address bar, pwa theme dan heading")])],1),a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"cursor-pointer img-thumbnail",style:"width:110px;height:30px;background-color:".concat(t.form.theme_color)},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-color",{attrs:{"no-header":""},model:{value:t.form.theme_color,callback:function(a){t.$set(t.form,"theme_color",a)},expression:"form.theme_color"}})],1)],1)])],1),a("q-item",{staticClass:"q-px-xs"},[a("q-item-section",[a("q-item-label",{staticClass:"text-weight-medium"},[t._v("Primary Color")]),a("q-item-label",{attrs:{caption:""}},[t._v("Terdapat pada title, button")])],1),a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"cursor-pointer img-thumbnail",style:"width:110px;height:30px;background-color:".concat(t.form.primary_color)},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-color",{model:{value:t.form.primary_color,callback:function(a){t.$set(t.form,"primary_color",a)},expression:"form.primary_color"}})],1)],1)])],1),a("q-item",{staticClass:"q-px-xs"},[a("q-item-section",[a("q-item-label",{staticClass:"text-weight-medium"},[t._v("Secondary Color")]),a("q-item-label",{attrs:{caption:""}},[t._v("Terdapat pada harga produk, badge, diskon")])],1),a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"cursor-pointer img-thumbnail",style:"width:110px;height:30px;background-color:".concat(t.form.secondary_color)},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-color",{model:{value:t.form.secondary_color,callback:function(a){t.$set(t.form,"secondary_color",a)},expression:"form.secondary_color"}})],1)],1)])],1),a("q-item",{staticClass:"q-px-xs"},[a("q-item-section",[a("q-item-label",{staticClass:"text-weight-medium"},[t._v("Accent Color")]),a("q-item-label",{attrs:{caption:""}},[t._v("Terdapat pada rating, varian, produk review")])],1),a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"cursor-pointer img-thumbnail",style:"width:110px;height:30px;background-color:".concat(t.form.accent_color)},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-color",{model:{value:t.form.accent_color,callback:function(a){t.$set(t.form,"accent_color",a)},expression:"form.accent_color"}})],1)],1)])],1),a("q-item",{staticClass:"q-px-xs q-mt-sm"},[a("q-item-section",[a("q-item-label",{staticClass:"text-weight-medium"},[t._v("Tampilan Produk Beranda")])],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[a("q-select",{attrs:{dense:"",outlined:"",options:t.productViews,"emit-value":"","map-options":""},model:{value:t.form.home_product_view,callback:function(a){t.$set(t.form,"home_product_view",a)},expression:"form.home_product_view"}})],1)],1)],1),a("q-item",{staticClass:"q-mt-sm q-px-xs"},[a("q-item-section",[a("q-item-label",{staticClass:"text-weight-medium"},[t._v("Auto Approved Produk Review")])],1),a("q-item-section",{attrs:{side:"",top:""}},[a("q-toggle",{attrs:{label:t.form.review_auto_approved?"Active":"Disabled","left-label":"",color:"teal"},model:{value:t.form.review_auto_approved,callback:function(a){t.$set(t.form,"review_auto_approved",a)},expression:"form.review_auto_approved"}})],1)],1),a("q-item",{staticClass:"q-mt-sm q-px-xs"},[a("q-item-section",[a("div",{staticClass:"text-weight-medium"},[t._v("Social Proof Popup")]),a("div",{staticClass:"text-caption text-grey-7"},[t._v("\n                  Pengaturan social proof notifikasi.\n               ")])]),a("q-item-section",{attrs:{side:"",top:""}},[a("q-toggle",{attrs:{label:t.form.is_notifypro?"Active":"Disabled","left-label":"",color:"teal"},model:{value:t.form.is_notifypro,callback:function(a){t.$set(t.form,"is_notifypro",a)},expression:"form.is_notifypro"}})],1)],1),t.form.is_notifypro?a("q-item",{staticClass:"q-px-none"},[a("q-item-section",[a("q-input",{attrs:{filled:"",label:"Jeda Waktu Tayang",mask:"###",hint:"Popup akan tayang setiap "+t.form.notifypro_interval+" Detik"},model:{value:t.form.notifypro_interval,callback:function(a){t.$set(t.form,"notifypro_interval",a)},expression:"form.notifypro_interval"}})],1),a("q-item-section",[a("q-input",{attrs:{filled:"",label:"Durasi Penayangan",mask:"###",hint:"Popup akan tayang selama "+t.form.notifypro_timeout+" Detik"},model:{value:t.form.notifypro_timeout,callback:function(a){t.$set(t.form,"notifypro_timeout",a)},expression:"form.notifypro_timeout"}})],1)],1):t._e(),a("div",{staticClass:"q-mt-lg"},[a("div",{staticClass:"text-weight-medium"},[t._v("Produk Beranda")]),a("div",{staticClass:"text-caption text-grey-7"},[t._v("Pengaturan tampilan produk beranda")]),a("q-item",{staticClass:"q-px-none q-mt-xs"},[a("q-item-section",[a("q-item-label",[a("q-input",{attrs:{filled:"",label:"Produk ditampilkan"},model:{value:t.form.home_product_limit,callback:function(a){t.$set(t.form,"home_product_limit",a)},expression:"form.home_product_limit"}})],1)],1),a("q-item-section",[a("q-item-label",[a("q-select",{attrs:{filled:"",label:"Urutan Produk",options:[].concat(T()(t.sorts),[{value:"RANDOM",label:"Random"}]),"emit-value":"","map-options":""},model:{value:t.form.home_product_sort,callback:function(a){t.$set(t.form,"home_product_sort",a)},expression:"form.home_product_sort"}})],1)],1),a("q-item-section",[a("q-item-label",[a("q-select",{attrs:{filled:"",label:"Tampilan Mode",options:[{value:"grid",label:"Grid Mode"},{value:"list",label:"List Mode"}],"emit-value":"","map-options":""},model:{value:t.form.home_view_mode,callback:function(a){t.$set(t.form,"home_view_mode",a)},expression:"form.home_view_mode"}})],1)],1)],1)],1),a("div",{staticClass:"q-mt-md"},[a("div",{staticClass:"text-weight-medium"},[t._v("Produk Katalog")]),a("div",{staticClass:"text-caption text-grey-7"},[t._v("Pengaturan tampilan produk katalog")]),a("q-item",{staticClass:"q-px-none q-mt-xs"},[a("q-item-section",[a("q-item-label",[a("q-input",{attrs:{filled:"",label:"Produk ditampilkan"},model:{value:t.form.catalog_product_limit,callback:function(a){t.$set(t.form,"catalog_product_limit",a)},expression:"form.catalog_product_limit"}})],1)],1),a("q-item-section",[a("q-item-label",[a("q-select",{attrs:{filled:"",label:"Urutan Produk",options:t.sorts,"emit-value":"","map-options":""},model:{value:t.form.catalog_product_sort,callback:function(a){t.$set(t.form,"catalog_product_sort",a)},expression:"form.catalog_product_sort"}})],1)],1),a("q-item-section",[a("q-item-label",[a("q-select",{attrs:{filled:"",label:"Tampilan Mode",options:[{value:"grid",label:"Grid Mode"},{value:"list",label:"List Mode"}],"emit-value":"","map-options":""},model:{value:t.form.product_view_mode,callback:function(a){t.$set(t.form,"product_view_mode",a)},expression:"form.product_view_mode"}})],1)],1)],1)],1)],1)],1),a("q-card-section",[a("q-btn",{staticClass:"full-width",attrs:{label:"Simpan Pengaturan",color:"primary"},on:{click:t.saveTampilan}})],1)],1)}),O=[],L=i("9523"),A=i.n(L),D={data:function(){var t;return{productViews:[{value:"by_category",label:"Kategory Mode"},{value:"by_catalog",label:"Katalog Mode"}],sorts:[{value:"DESC",label:"Terbaru"},{value:"ASC",label:"Terlama"}],form:(t={theme:"",theme_color:"",primary_color:"",secondary_color:"",accent_color:"",home_view_mode:"",product_view_mode:"",is_notifypro:!1,notifypro_interval:20,notifypro_timeout:4,review_auto_approved:!1,catalog_product_limit:10,catalog_product_sort:"DESC",home_product_limit:10,home_product_sort:"DESC"},A()(t,"review_auto_approved",!1),A()(t,"home_product_view","by_category"),t)}},computed:{config:function(){return this.$store.state.config},themes:function(){return this.$store.state.themes}},watch:{"form.theme_color":function(t){this.$store.commit("SET_THEME_COLOR",t)},"form.primary_color":function(t){this.$store.commit("SET_PRIMARY_COLOR",t)},"form.secondary_color":function(t){this.$store.commit("SET_SECONDARY_COLOR",t)},"form.accent_color":function(t){this.$store.commit("SET_ACCENT_COLOR",t)}},mounted:function(){this.form.product_view_mode=this.config.product_view_mode,this.form.home_view_mode=this.config.home_view_mode,this.form.is_notifypro=this.config.is_notifypro,this.form.notifypro_interval=this.config.notifypro_interval,this.form.notifypro_timeout=this.config.notifypro_timeout,this.form.theme=this.config.theme,this.form.theme_color=this.config.theme_color,this.form.primary_color=this.config.primary_color,this.form.secondary_color=this.config.secondary_color,this.form.accent_color=this.config.accent_color,this.form.review_auto_approved=this.config.review_auto_approved,this.form.catalog_product_limit=this.config.catalog_product_limit,this.form.catalog_product_sort=this.config.catalog_product_sort,this.form.home_product_limit=this.config.home_product_limit,this.form.home_product_sort=this.config.home_product_sort,this.form.home_product_view=this.config.home_product_view},methods:{changeHomeViewMode:function(t){this.form.home_view_mode=t},changeProductViewMode:function(t){this.form.product_view_mode=t},handleChangeColor:function(){this.$refs.color.click()},saveTampilan:function(){var t=this;localStorage.removeItem("__nextshop_theme"),Object(r["a"])().post("config",this.form).then((function(a){200==a.status&&t.$store.dispatch("getAdminConfig"),t.$q.notify({type:"positive",message:"Berhasil memperbarui data"})})).catch((function(){t.$q.notify({type:"negative",message:"Gagal memperbarui data"})}))}}},I=D,B=i("7cbe"),U=i("b498"),E=Object(d["a"])(I,P,O,!1,null,null,null),K=E.exports;j()(E,"components",{QCard:m["a"],QCardSection:u["a"],QList:k["a"],QItem:q["a"],QItemSection:y["a"],QItemLabel:C["a"],QSelect:h["a"],QPopupProxy:B["a"],QColor:U["a"],QToggle:p["a"],QInput:f["a"],QBtn:g["a"]});var R=function(){var t=this,a=t._self._c;return a("q-card",{staticClass:"q-pa-sm",attrs:{flat:""}},[a("q-card-section",[a("div",{staticClass:"text-md text-weight-bold"},[t._v("System Update / Clear Cache")]),a("div",{staticClass:"text-caption text-grey-7"},[t._v("Pengaturan sistem update dan cache situs, Pastikan anda mengerti apa yang anda lakukan")]),a("q-list",{staticClass:"q-pb-md"},[a("q-item",{staticClass:"q-px-xs"},[a("q-item-section",[a("q-item-label",[t._v("Clear Cache")])],1),a("q-item-section",{attrs:{side:""}},[a("q-btn",{staticStyle:{"min-width":"150px"},attrs:{loading:t.loadingClearChace,label:"Clear Cache",unelevated:"",color:"primary",size:"12px"},on:{click:t.clearCache}})],1)],1),a("q-item",{staticClass:"q-px-xs"},[a("q-item-section",[t.needUpdate?a("q-item-label",[a("q-badge",{attrs:{color:"green-7"}},[t._v(t._s(t.siteData))]),t._v(" Pending Update\n          ")],1):a("q-item-label",[t._v("Update")])],1),a("q-item-section",{attrs:{side:""}},[a("q-btn",{staticStyle:{"min-width":"150px"},attrs:{loading:t.loading,disable:!t.needUpdate,label:t.needUpdate?"Update Now":"No updated found",unelevated:"",color:t.needUpdate?"primary":"grey-7",size:"12px"},on:{click:t.updateSystem}})],1)],1)],1)],1)],1)},V=[],G={data:function(){return{siteData:0,loading:!1,loadingClearChace:!1}},computed:{needUpdate:function(){return this.siteData>0}},created:function(){this.getUpdate()},methods:{getUpdate:function(){var t=this;Object(r["a"])().get("update").then((function(a){200==a.status&&(t.siteData=a.data.results>0?a.data.results:0)}))},updateSystem:function(){var t=this;this.loading=!0,Object(r["a"])().post("update").then((function(a){200==a.status&&(t.getUpdate(),t.$q.notify({type:"positive",message:"Berhasil update system"}))})).catch((function(){t.$q.notify({type:"negative",message:"Gagal update system, silahkan hubungi pengembang aplikasi."})})).finally((function(){t.loading=!1,setTimeout((function(){location.reload()}),500),t.$router.push({name:"Settings"})}))},clearCache:function(){var t=this;this.loadingClearChace=!0,Object(r["a"])().post("clearCache").then((function(a){200==a.status&&t.$q.notify({type:"positive",message:"Berhasil menghapus cache"})})).catch((function(){t.$q.notify({type:"negative",message:"Gagal menghapus cache, silahkan ulangi lagi"})})).finally((function(){t.loadingClearChace=!1,t.$router.push({name:"Settings"})}))}}},z=G,F=i("58a81"),N=Object(d["a"])(z,R,V,!1,null,null,null),W=N.exports;j()(N,"components",{QCard:m["a"],QCardSection:u["a"],QList:k["a"],QItem:q["a"],QItemSection:y["a"],QItemLabel:C["a"],QBtn:g["a"],QBadge:F["a"]});i("0481");var H=function(){var t=this,a=t._self._c;return a("q-card",{staticClass:"q-pa-sm",attrs:{flat:""}},[a("form",{on:{submit:function(a){return a.preventDefault(),t.updateData.apply(null,arguments)}}},[a("q-card",{attrs:{flat:""}},[a("q-card-section",[a("div",{staticClass:"flex items-center justify-between"},[a("div",[a("div",{staticClass:"text-md text-weight-bold"},[t._v("Ambil di Toko")]),a("q-item-label",{attrs:{caption:""}},[t._v("Memungkinkan pembeli untuk ambil pesanan ditoko")])],1),a("q-toggle",{staticClass:"text-grey-8",attrs:{label:t.formdata.is_pic_order?"Active":"Disabled","left-label":"",color:"teal"},on:{input:t.autoUpdate},model:{value:t.formdata.is_pic_order,callback:function(a){t.$set(t.formdata,"is_pic_order",a)},expression:"formdata.is_pic_order"}})],1),a("div",{staticClass:"flex items-center justify-between q-mt-md"},[a("div",[a("div",{staticClass:"text-md text-weight-bold"},[t._v("Kurir Toko")]),a("q-item-label",{attrs:{caption:""}},[t._v("Pengaturan kurir toko berdasarkan kecamatan")])],1),a("q-toggle",{staticClass:"text-grey-8",attrs:{label:t.formdata.is_local_shipping_active?"Active":"Disabled","left-label":"",color:"teal"},on:{input:t.autoUpdate},model:{value:t.formdata.is_local_shipping_active,callback:function(a){t.$set(t.formdata,"is_local_shipping_active",a)},expression:"formdata.is_local_shipping_active"}})],1),a("div",{staticClass:"q-mt-md"},[a("div",{},[a("div",{staticClass:"text-md text-weight-bold"},[t._v("\n                     Pengiriman dan Koordinat Toko\n                  ")]),a("div",{staticClass:"text-grey-8 q-pt-sm text-13"},[t._v("\n                     Gunakan tombol lokasi terkini atau klik didalam map untuk\n                     mendapatkan lokasi toko atau geser - geser ikon toko untuk\n                     medapatkan lokasi yang sesuai\n                  ")])]),a("div",{staticClass:"q-mt-md"},[t.config?a("div",{staticClass:"warehouse-map"},[a("MainMap",{ref:"theMap",attrs:{config:t.config,coordinate:t.formdata.warehouse_coordinate},on:{onEmitMap:t.onEmitMap}})],1):t._e()]),a("div",{staticClass:"q-mt-lg"},[a("div",{staticClass:"flex justify-between no-wrap items-center q-py-sm"},[a("div",[a("div",{staticClass:"text-weight-medium text-md"},[t._v("Aturan Ongkos Kirim")]),a("p",{staticClass:"text-13 text-grey-7"},[t._v("\n                           Perhatikan baik - baik saat menambahkan aturan ongkos kirim,\n                           jarak yang diluar aturan akan diabaikan dan menjadi diluar\n                           jangkauan kurir.\n                        ")])]),a("q-btn",{staticClass:"btn-action",attrs:{label:"Tambah Aturan",color:"teal",unelevated:"","no-caps":""},on:{click:t.addRule}})],1),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table aligned dense"},[a("thead",[a("tr",[a("th",[t._v("Flat Ongkir *")]),a("th",[t._v("Radius (KM)")]),a("th",[t._v("Biaya")]),a("th",[t._v("Delete")])])]),a("tbody",t._l(t.formdata.local_shipping_costs,(function(i,e){return a("tr",{key:e,staticClass:"q-px-none"},[a("td",[a("q-checkbox",{staticClass:"q-py-xs",attrs:{outlined:"",dense:""},model:{value:t.formdata.local_shipping_costs[e].flat,callback:function(a){t.$set(t.formdata.local_shipping_costs[e],"flat",a)},expression:"formdata.local_shipping_costs[idx].flat"}})],1),a("td",[a("q-input",{staticClass:"q-py-xs",attrs:{outlined:"",dense:"",label:"Radius (KM)",mask:"####",suffix:"KM"},model:{value:t.formdata.local_shipping_costs[e].radius,callback:function(a){t.$set(t.formdata.local_shipping_costs[e],"radius",a)},expression:"formdata.local_shipping_costs[idx].radius"}})],1),a("td",[a("q-input",{staticClass:"q-py-xs",attrs:{outlined:"",dense:"",label:t.formdata.local_shipping_costs[e].flat?"Ongkos Kirim Flat":"Ongkos Kirim /km",mask:"##########"},model:{value:t.formdata.local_shipping_costs[e].cost,callback:function(a){t.$set(t.formdata.local_shipping_costs[e],"cost",a)},expression:"formdata.local_shipping_costs[idx].cost"}})],1),a("td",[a("div",[a("q-btn",{attrs:{icon:"delete",round:"",flat:"",padding:"xs",color:"red"},on:{click:function(a){return t.removeCost(e)}}})],1)])])})),0)])]),t.formdata.local_shipping_costs.length?t._e():a("div",{staticClass:"text-center q-py-md"},[t._v("Tidak ada data")]),a("div",{staticClass:"text-caption q-py-md"},[t._v("\n                     * Flat ongkir adalah tarif tetap dalam radius tertentu alias tidak dihitung per km\n                  ")])])])]),a("q-card-actions",{staticClass:"q-py-lg"},[a("q-btn",{staticClass:"full-width",attrs:{type:"submit",label:"Simpan Pengaturan",color:"primary"}})],1)],1)],1)])},J=[],Y=i("ded3"),Z=i.n(Y),X=(i("a434"),function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"q-mb-md"},[a("q-input",{attrs:{loading:t.searchLoading,dense:"",placeholder:"cari desa atau kecamatan",debounce:"1000",outlined:""},on:{"update:modelValue":t.searchQuery},model:{value:t.query,callback:function(a){t.query=a},expression:"query"}})],1),a("div",{staticClass:"relative"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showList,expression:"showList"}],staticClass:"list-box-content"},[a("q-list",{attrs:{separator:""}},[t._l(t.lists,(function(i,e){return a("q-item",{key:e,attrs:{clickable:""},on:{click:function(a){return t.selectItemList(i)}}},[a("q-item-section",[t._v(t._s(i.label))])],1)})),t.notFound?a("q-item",[a("q-item-section",{staticClass:"text-center"},[t._v("Data tidak ditemukan")])],1):t._e()],2)],1),a("div",{staticClass:"relative"},[a("div",{attrs:{id:"mainMapContainer"}}),a("q-btn",{staticClass:"bg-white text-grey-7 btn-floating",attrs:{flat:"",icon:"ion-locate",loading:t.loading,round:"",dense:"",padding:"sm"},on:{click:t.getCurrentPosition}})],1)])])}),tt=[],at=(i("6cc5"),i("1615"),i("e11e")),it=i.n(at),et=i("ac00"),ot=A()({props:["config","coordinate","is_client","radius"],data:function(){return{map:null,zoom:11,searchControl:null,center:[-7.969945177009877,110.6048905849457],marker:null,originMarkerOption:{clickable:!0,draggable:!0,autoPan:!0,icon:null},query:"",provider:null,lists:[],listSelected:null,searchLoading:!1,notFound:!1,container:null,loading:!1,icon_admin:"/static/warehouse.png",icon_client:"/static/delivery.png",circle:null}},mounted:function(){var t=this;this.initialProvider(),this.$nextTick((function(){setTimeout((function(){t.initialMap()}),1e3)}))},beforeUnmount:function(){this.map.remove()},watch:{radius:function(t){this.map&&this.updateCircle(this.coordinate,t)}},computed:{showList:function(){return this.lists.length||this.notFound}},methods:{searchQuery:function(){var t=this;this.notFound=!1,this.searchLoading=!0,this.provider.search({query:this.query}).then((function(a){t.lists=a})).finally((function(){t.searchLoading=!1,t.lists.length||(t.notFound=!0,setTimeout((function(){t.notFound=!1}),5e3))}))},updateCircle:function(t,a){var i=this;a&&(this.circle&&(this.map.removeLayer(this.circle),this.circle=null),setTimeout((function(){i.circle=it.a.circle(t,a),i.circle.addTo(i.map)}),700))},inputQuery:function(){this.notFound=!1},selectItemList:function(t){this.listSelected=t,this.emitData([t.y,t.x]),this.lists=[],this.setMapView()},emitData:function(t){this.$emit("onEmitMap",t)},initialProvider:function(){this.provider=new et["a"]({params:{countrycodes:"id"}})},initialMap:function(){this.originMarkerOption.icon=it.a.icon({iconUrl:this.is_client?this.icon_client:this.icon_admin,iconSize:[40,40],iconAnchor:[20,40]}),this.coordinate&&this.coordinate.length?this.map=it.a.map("mainMapContainer").setView(this.coordinate,this.zoom):this.map=it.a.map("mainMapContainer").setView(this.center,this.zoom),this.config&&this.config.mapbox_access_token?it.a.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=".concat(this.config.mapbox_access_token),{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:this.config.mapbox_access_token}).addTo(this.map):it.a.tileLayer("https://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map),this.updateCircle(this.coordinate,this.radius),this.map.on("click",this.handleMapClicked),this.map.on("zoomend",this.setOriginMarker),this.setOriginMarker()},setOriginMarker:function(){var t=this;this.originMarker&&this.map.removeLayer(this.originMarker),this.coordinate&&this.coordinate.length&&setTimeout((function(){t.originMarker=it.a.marker(t.coordinate,t.originMarkerOption),t.originMarker.addTo(t.map),t.originMarker.on("dragend",t.handleMArkerDragend)}),200)},handleMArkerDragend:function(t){var a=t.target._latlng;this.emitData([a.lat,a.lng]),this.setMapView()},handleMapClicked:function(t){var a=this,i=it.a.DomUtil.create("div"),e=it.a.DomUtil.create("button","",i);e.setAttribute("type","button"),e.innerHTML="Pilih lokasi ini",it.a.popup().setContent(i).setLatLng(t.latlng).openOn(this.map),it.a.DomEvent.on(e,"click",(function(){a.emitData([t.latlng.lat,t.latlng.lng]),a.setMapView()}))},setMapView:function(){var t=this;setTimeout((function(){t.map.setView(t.coordinate),t.map.closePopup(),t.loading=!1,t.setOriginMarker(),t.updateCircle(t.coordinate,t.radius)}),200)},getAutoPosition:function(){var t=this;this.getCurrentPosition(),setTimeout((function(){t.initialMap()}),2e3)},getCurrentPosition:function(){this.loading=!0,navigator.geolocation?navigator.geolocation.getCurrentPosition(this.geoLocationSuccess,this.geoLocationError):this.$q.notify({type:"warning",message:"Geolocation is not supported by this browser."})},geoLocationError:function(){this.loading=!1,this.$q.notify({type:"warning",message:"Lokasi tidak ditemukan, coba ulangi sekali lagi."})},geoLocationSuccess:function(t){var a=this;this.emitData([t.coords.latitude,t.coords.longitude]),this.loading=!1,setTimeout((function(){a.setMapView()}),2e3)}}},"beforeUnmount",(function(){this.map=null})),st=ot,nt=(i("3e67"),Object(d["a"])(st,X,tt,!1,null,"658254e8",null)),rt=nt.exports;j()(nt,"components",{QInput:f["a"],QList:k["a"],QItem:q["a"],QItemSection:y["a"],QBtn:g["a"]});var ct={name:"LocalShipping",components:{MainMap:rt},data:function(){return{codListModal:!1,subdistrictOptions:[],modal:!1,search:"",searchLoading:!1,formdata:{cod_list:[],is_cod_payment:!1,is_local_shipping_active:!1,is_pic_order:!1,local_shipping_costs:[],warehouse_coordinate:[]}}},watch:{"formdata.is_local_shipping_active":function(t){if(1==t&&this.formdata.is_local_shipping_active&&!this.formdata.local_shipping_costs.length&&!this.formdata.warehouse_coordinate.length)return this.formdata.is_local_shipping_active=!1,void this.$q.notify({type:"negative",message:"Koordinate dan ongkos kirim belum di input"})}},computed:{config:function(){return this.$store.state.config},map_radius:function(){if(this.formdata.local_shipping_costs.length){var t=this.formdata.local_shipping_costs[this.formdata.local_shipping_costs.length-1].radius;return parseInt(1e3*t)}return 0}},mounted:function(){this.config?this.setConfig(this.config):this.getAdminConfig()},methods:{autoUpdate:function(){var t=this;setTimeout((function(){t.updateData()}),500)},setConfig:function(t){console.log(t),this.formdata.is_cod_payment=t.is_cod_payment,this.formdata.is_local_shipping_active=t.is_local_shipping_active,this.formdata.is_pic_order=t.is_pic_order,this.formdata.warehouse_coordinate=t.warehouse_coordinate?t.warehouse_coordinate:[],this.formdata.local_shipping_costs=t.local_shipping_costs?t.local_shipping_costs:[]},onEmitMap:function(t){this.formdata.warehouse_coordinate[0]=t[0],this.formdata.warehouse_coordinate[1]=t[1]},removeCost:function(t){this.formdata.local_shipping_costs.splice(t,1)},addRule:function(){var t=0;if(this.formdata.local_shipping_costs.length){var a=this.formdata.local_shipping_costs[this.formdata.local_shipping_costs.length-1];t=parseInt(a.end)+1}this.formdata.local_shipping_costs.push({cost:500,radius:t,flat:!1})},updateData:function(){var t=this;Object(r["a"])().post("config",this.formdata).then((function(){t.$store.dispatch("getAdminConfig"),t.$q.notify({type:"positive",message:"Berhasil memperbarui data"})})).catch((function(){t.$q.notify({type:"negative",message:"Gagal memperbarui data"})}))},selectCodItemData:function(t){var a=this.formdata.cod_list.filter((function(a){return a.id==t.id}));a.length&&(this.formdata.cod_list=this.formdata.cod_list.filter((function(a){return a.id!=t.id}))),this.formdata.cod_list.push(Z()(Z()({},t),{},{price:0})),this.search="",this.subdistrictOptions=[]},hasCodData:function(t){var a=this.formdata.cod_list.filter((function(a){return a.id==t.id}));return!!a.length},removeCodList:function(t){this.formdata.cod_list.splice(t,1)},searchCodData:function(){this.findAddress()},getAdminConfig:function(){var t=this;Object(r["a"])().get("admin-config").then((function(a){200==a.status&&t.setConfig(a.data.results)}))},findAddress:function(){var t=this;this.subdistrictOptions=[],this.search.length<3||(this.searchLoading=!0,Object(r["a"])().get("searchAddress/"+this.search).then((function(a){200==a.status&&(a.data.success?t.subdistrictOptions=a.data.results:t.$q.notify({type:"negative",message:a.data.message}))})).finally((function(){t.searchLoading=!1})))},closeSubdistrictBox:function(){this.subdistrictOptions=[],this.search=""}}},lt=ct,dt=i("8f8e"),mt=Object(d["a"])(lt,H,J,!1,null,null,null),ut=mt.exports;j()(mt,"components",{QCard:m["a"],QCardSection:u["a"],QItemLabel:C["a"],QToggle:p["a"],QBtn:g["a"],QCheckbox:dt["a"],QInput:f["a"],QCardActions:v["a"]});var pt={name:"AppConfigIndex",components:{ShippingConfig:Q,BasicConfig:K,SystemUpdate:W,LocalShipping:ut},data:function(){return{tab:"BasicConfig",tabs:[{value:"BasicConfig",label:"Basic"},{value:"ShippingConfig",label:"Pengiriman Ekspedisi"},{value:"Local",label:"Pengiriman Toko"},{value:"System",label:"System Update"}]}},computed:{loading:function(){return this.$store.state.loading},config:function(){return this.$store.state.config}},created:function(){this.$store.dispatch("getAdminConfig")}},ht=pt,ft=i("9989"),gt=i("e359"),_t=i("65c6"),vt=i("6ac5"),bt=i("429b"),kt=i("7460"),qt=i("adad"),yt=i("823b"),Ct=i("2eeb"),xt=Object(d["a"])(ht,e,o,!1,null,null,null);a["default"]=xt.exports;j()(xt,"components",{QPage:ft["a"],QHeader:gt["a"],QToolbar:_t["a"],QBtn:g["a"],QToolbarTitle:vt["a"],QTabs:bt["a"],QTab:kt["a"],QTabPanels:qt["a"],QTabPanel:yt["a"],QInnerLoading:x["a"]}),j()(xt,"directives",{GoBack:Ct["a"]})},dd13:function(t,a,i){}}]);